<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>汽车行业 HARA 分析综述：从理论到实践 | s-ai-unix's Blog</title><meta name=keywords content="HARA,ISO 26262,功能安全,ASIL"><meta name=description content="深入探讨汽车行业危害分析与风险评估（HARA）的理论基础、发展历程及实际应用案例"><meta name=author content="s-ai-unix"><link rel=canonical href=https://s-ai-unix.github.io/posts/2026-01-16-hara-automotive-analysis/><link crossorigin=anonymous href=/assets/css/stylesheet.0833aff7e1cf567ecfb9755701ee95a80535f671e2e1a0a770c9bc20a0a7b5bb.css integrity="sha256-CDOv9+HPVn7PuXVXAe6VqAU19nHi4aCncMm8IKCntbs=" rel="preload stylesheet" as=style><link rel=icon href=https://s-ai-unix.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://s-ai-unix.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://s-ai-unix.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://s-ai-unix.github.io/apple-touch-icon.png><link rel=mask-icon href=https://s-ai-unix.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://s-ai-unix.github.io/posts/2026-01-16-hara-automotive-analysis/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://s-ai-unix.github.io/posts/2026-01-16-hara-automotive-analysis/"><meta property="og:site_name" content="s-ai-unix's Blog"><meta property="og:title" content="汽车行业 HARA 分析综述：从理论到实践"><meta property="og:description" content="深入探讨汽车行业危害分析与风险评估（HARA）的理论基础、发展历程及实际应用案例"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-16T09:06:00+08:00"><meta property="article:modified_time" content="2026-01-16T09:06:00+08:00"><meta property="article:tag" content="HARA"><meta property="article:tag" content="ISO 26262"><meta property="article:tag" content="功能安全"><meta property="article:tag" content="ASIL"><meta property="og:image" content="https://s-ai-unix.github.io/images/covers/hara-automotive.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://s-ai-unix.github.io/images/covers/hara-automotive.jpg"><meta name=twitter:title content="汽车行业 HARA 分析综述：从理论到实践"><meta name=twitter:description content="深入探讨汽车行业危害分析与风险评估（HARA）的理论基础、发展历程及实际应用案例"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://s-ai-unix.github.io/posts/"},{"@type":"ListItem","position":2,"name":"汽车行业 HARA 分析综述：从理论到实践","item":"https://s-ai-unix.github.io/posts/2026-01-16-hara-automotive-analysis/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"汽车行业 HARA 分析综述：从理论到实践","name":"汽车行业 HARA 分析综述：从理论到实践","description":"深入探讨汽车行业危害分析与风险评估（HARA）的理论基础、发展历程及实际应用案例","keywords":["HARA","ISO 26262","功能安全","ASIL"],"articleBody":"引言 想象一下这样的场景：一辆电动汽车正在高速公路上以 $100\\text{ km/h}$ 的速度行驶，突然，电子节气门控制系统发生故障，导致车辆意外加速。驾驶员试图踩下刹车，但车辆却继续加速，最终酿成悲剧。这不是虚构的假设，而是真实发生过的汽车安全事故——2009 年丰田意外加速事件。\n这个悲剧促使整个汽车行业重新思考安全工程的方法论。在这个过程中，危害分析与风险评估（Hazard Analysis and Risk Assessment，简称 HARA） 逐渐成为汽车功能安全的基石。HARA 不仅仅是一个技术流程，更是一种系统化的思维框架，帮助工程师在复杂的汽车系统中识别潜在风险，并制定相应的防护措施。\n今天，我们就来深入探讨 HARA 的理论基础、发展历程以及在汽车行业的实际应用。\nHARA 的理论基础 什么是 HARA？ HARA 是 ISO 26262 汽车功能安全标准中定义的核心流程，旨在系统性地识别由系统故障导致的危害事件，评估相关风险，并制定安全目标以避免不合理风险的发生。简单来说，HARA 回答了三个关键问题：\n什么可能出错？（危害识别） 如果出错了，后果有多严重？（风险评估） 如何防止或缓解风险？（安全措施） HARA 是在整个汽车产品生命周期中实施的第一个主要任务，也是 ISO 26262 合规流程中的关键环节。它发生在概念设计阶段，为后续的系统架构设计、测试和验证奠定了基础。\nISO 26262 标准的诞生 要理解 HARA，我们必须先了解 ISO 26262 标准的诞生背景。\n在汽车电子系统日益复杂的背景下，国际电工委员会（IEC）制定的 IEC 61508 标准为功能安全提供了通用的方法论。然而，汽车行业有其特殊性：大规模生产、成本敏感、高度分布式系统架构等。因此，在 IEC 61508 的基础上，汽车行业专门制定了 ISO 26262 标准，即 “道路车辆功能安全” 标准（Road vehicles – Functional safety）。\nISO 26262 首次于 2011 年 发布，涵盖了汽车电气/电子系统的整个安全生命周期，从概念阶段、系统设计、硬件设计、软件设计，到生产、运行、服务，直到退役。HARA 在 ISO 26262 第 3 部分（概念阶段）中被正式定义，是功能安全工程活动的起点。\nHARA 的核心概念：ASIL 分级 在 HARA 流程中，最重要的输出之一是 汽车安全完整性等级（Automotive Safety Integrity Level，ASIL） 的确定。ASIL 是对系统安全要求的分类，从低到高分为四个等级：QM（质量管理体系）、ASIL A、ASIL B、ASIL C 和 ASIL D。\nASIL 的确定基于三个维度的评估：\n严重度（Severity，S）：如果发生故障，对驾驶员、乘客或其他道路使用者可能造成的伤害程度。 暴露率（Exposure，E）：车辆运行过程中，暴露在特定操作场景中的概率。 可控性（Controllability，C）：驾驶员或其他相关人员能够通过合理的操作来避免或减轻事故的能力。 这三个维度的组合确定了最终的 ASIL 等级，可以用一个简单的矩阵来表示：\n$$ \\text{ASIL} = f(S, E, C) $$\n其中，$S \\in {0, 1, 2, 3}$（从无伤害到致命伤害），$E \\in {0, 1, 2, 3, 4}$（从极低概率到极高概率），$C \\in {0, 1, 2, 3}$（从易于控制到难以控制）。ASIL 的等级越高，意味着系统需要更严格的安全措施和更高的开发成本。\ngraph TB subgraph ASIL三维评估模型 S[严重度 Severity\nS0: 无伤害\nS1: 轻微伤害\nS2: 严重伤害\nS3: 致命伤害] E[暴露率 Exposure\nE0: 极低概率\nE1: 低概率\nE2: 中等概率\nE3: 高概率\nE4: 极高概率] C[可控性 Controllability\nC0: 完全可控\nC1: 易于控制\nC2: 正常可控\nC3: 难以控制] S --\u003e ASIL[ASIL等级确定] E --\u003e ASIL C --\u003e ASIL end ASIL --\u003e R[QM 质量管理] ASIL --\u003e A[ASIL A 较低要求] ASIL --\u003e B[ASIL B 中等要求] ASIL --\u003e CC[ASIL C 高要求] ASIL --\u003e D[ASIL D 最高要求] style S fill:#FF3B30,stroke:#FF3B30,stroke-width:2px,color:#ffffff style E fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff style C fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff style ASIL fill:#AF52DE,stroke:#AF52DE,stroke-width:3px,color:#ffffff style R fill:#8E8E93,stroke:#8E8E93,stroke-width:2px,color:#ffffff style A fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff style B fill:#30D158,stroke:#34C759,stroke-width:2px,color:#ffffff style CC fill:#32D74B,stroke:#32D74B,stroke-width:2px,color:#ffffff style D fill:#007AFF,stroke:#007AFF,stroke-width:3px,color:#ffffff HARA 的发展历程 早期阶段：经验驱动 在 HARA 方法论正式标准化之前，汽车安全主要依赖于工程师的经验和试错。1950 年代，丰田通过精益生产系统（Toyota Production System）来提升质量，但此时的安全更多是事后反应而非事前预防。\n这个阶段的安全分析主要集中在机械系统和简单的电气系统上。对于复杂的电子控制系统，工程师往往依赖故障模式影响分析（Failure Mode and Effects Analysis，FMEA）等工具，但这些方法更偏向于可靠性分析而非系统化的风险评估。\n标准化阶段：ISO 26262 的诞生 随着汽车电子系统的日益复杂，尤其是电子节气门控制系统（Electronic Throttle Control System，ETCS）、防抱死制动系统（Anti-lock Braking System，ABS）、电子稳定控制系统（Electronic Stability Control，ESC）等安全关键系统的广泛应用，行业对系统化安全分析方法的需求变得迫切。\n2009 年的丰田意外加速事件成为了汽车功能安全发展的转折点。这次事故不仅造成了人员伤亡，更暴露了传统安全方法的局限性。事后调查发现，ETCS 的软件设计和安全架构存在缺陷，而这些问题在传统测试中并未被发现。\n这次事件促使整个行业重新审视安全工程的方法论，并推动了 ISO 26262 标准的制定和广泛应用。HARA 作为 ISO 26262 的核心流程，开始在汽车行业得到系统性应用。\n现代阶段：智能网联时代的挑战 随着自动驾驶、车联网、人工智能等新技术的应用，汽车安全工程面临着前所未有的挑战。传统的 HARA 方法论主要针对已知的功能性故障，但在自动驾驶系统中，很多风险来自于人工智能决策的不确定性、传感器感知的局限性以及复杂交通环境中的未知场景。\n为了应对这些挑战，ISO 组织在 2022 年发布了 ISO 21448（SOTIF，Safety of the Intended Functionality，预期功能的安全性） 标准。SOTIF 补充了 ISO 26262，专门针对由功能设计缺陷而非系统故障导致的风险。这使得 HARA 的范围进一步扩展，从单纯的故障分析扩展到功能安全与预期功能安全的综合分析。\nHARA 的方法论详解 HARA 的核心流程 HARA 是一个系统化的流程，通常包含以下关键步骤：\nflowchart TD Start[HARA分析开始] --\u003e Step1[步骤1: 项目定义\nItem Definition] Step1 --\u003e Step2[步骤2: 危害识别\nHazard Identification] Step2 --\u003e Step3[步骤3: 危害事件分析\nHazardous Event Analysis] Step3 --\u003e Step4[步骤4: ASIL确定\nASIL Determination] Step4 --\u003e Step5[步骤5: 安全目标定义\nSafety Goal Definition] Step5 --\u003e Step6[步骤6: 功能安全需求分配\nFSR Allocation] Step6 --\u003e End[输出安全需求规格] style Start fill:#007AFF,stroke:#007AFF,stroke-width:3px,color:#ffffff style Step1 fill:#5AC8FA,stroke:#007AFF,stroke-width:2px,color:#ffffff style Step2 fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff style Step3 fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff style Step4 fill:#AF52DE,stroke:#AF52DE,stroke-width:2px,color:#ffffff style Step5 fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff style Step6 fill:#30D158,stroke:#34C759,stroke-width:2px,color:#ffffff style End fill:#32D74B,stroke:#32D74B,stroke-width:3px,color:#ffffff 步骤 1：项目定义（Item Definition） 在进行 HARA 之前，首先需要明确分析的对象——即 项目（Item）。项目定义包括系统的功能、边界、与其他系统的接口、以及操作场景等。这个定义需要清晰、完整，因为它是后续所有分析的基础。\n例如，对于制动系统，项目定义可能包括：\n主要功能：响应驾驶员的制动输入，施加制动力 输入：制动踏板位置、车速、路面摩擦系数等 输出：制动力分配、ABS 激活信号等 与其他系统的接口：ESP、自动驾驶系统等 步骤 2：危害识别（Hazard Identification） 危害识别的目标是识别出所有可能导致车辆危害的故障行为。这个步骤需要考虑：\n正常操作场景：车辆在预期条件下的正常使用 合理误用场景：驾驶员可能在合理范围内的非预期操作 系统边界条件：系统在各种工作条件下的行为 例如，对于制动系统，可能的危害包括：\n制动力不足 制动力过强（意外制动） 制动力不对称（导致车辆跑偏） 制动延迟 在这个阶段，工程师通常会使用系统化的方法，如 故障模式影响分析（FMEA） 或 危险与可操作性分析（Hazard and Operability Study，HAZOP） 来辅助危害识别。\n步骤 3：危害事件分析（Hazardous Event Analysis） 识别出危害后，下一步是分析这些危害在不同操作场景下的影响。危害事件是 危害 + 操作场景 的组合。例如：\n制动力不足 + 高速行驶 = 严重危害事件 制动力不足 + 停车状态 = 轻微危害事件 对于每个危害事件，需要评估三个维度：严重度（S）、暴露率（E）和可控性（C）。\n严重度（Severity，S） 分为四个等级：\nS0：无伤害 S1：轻微或中等伤害 S2：严重伤害（危及生命但可存活） S3：致命或幸存者极少 暴露率（Exposure，E） 分为五个等级：\nE0：极低概率（几乎不可能） E1：低概率 E2：中等概率 E3：高概率 E4：极高概率 可控性（Controllability，C） 分为四个等级：\nC0：完全可控 C1：易于控制 C2：一般可控 C3：难以控制 步骤 4：ASIL 确定（ASIL Determination） 基于对 S、E、C 的评估，可以确定每个危害事件的 ASIL 等级。ASIL 的确定遵循一个预定义的矩阵，简单来说：\nASIL D：最高安全要求，通常对应 S3、E4、C3 的组合 ASIL C：较高安全要求 ASIL B：中等安全要求 ASIL A：较低安全要求 QM：质量管理体系要求，不属于功能安全范畴 需要注意的是，ASIL 的确定不是简单的数学计算，而是需要工程师的专业判断。在某些情况下，可能需要进行定性分析或专家评估。\n步骤 5：安全目标定义（Safety Goal Definition） 基于 ASIL 等级，需要定义安全目标。安全目标是最高级别的安全要求，描述了需要防止或缓解的危害事件。安全目标需要与 ASIL 等级一致，并满足以下要求：\n清晰明确：用精确的语言描述需要达到的安全状态 可验证：能够通过测试或分析来验证是否满足要求 与危害直接相关：直接针对识别出的危害事件 例如，对于制动系统，一个安全目标可能是： “在车辆行驶过程中，防止制动力不足导致的车辆无法减速，以确保驾驶员能够在合理距离内将车辆停止（ASIL D）”\n步骤 6：功能安全需求分配（Functional Safety Requirement Allocation） 基于安全目标，需要将安全需求分配到系统的各个子系统。这个过程是自顶向下的分解，确保每个子系统都有明确的安全要求，并且这些要求的集合能够满足安全目标。\n例如，对于上述制动系统的安全目标，可能需要分配以下功能安全需求：\n制动传感器冗余（ASIL D） 制动执行器监控（ASIL D） 制动力分配算法验证（ASIL D） 系统故障诊断和响应（ASIL C） HARA 的最佳实践 在实际应用中，遵循以下最佳实践可以显著提高 HARA 的质量：\n早期介入：HARA 应该在概念设计阶段就启动，而不是等到设计完成后再进行。早期介入可以避免后期修改的高昂成本。\n跨学科协作：HARA 需要系统工程师、硬件工程师、软件工程师、安全工程师等多学科团队的参与，从不同角度全面识别风险。\n迭代更新：HARA 不是一次性的活动，而应该随着设计的演化和新信息的获取而持续更新。\n工具支持：使用专业的 HARA 工具（如 ANSYS Medini Analyze、Vector DaVinci 等）可以提高效率和一致性。\n文档管理：详细记录 HARA 过程中的决策和依据，这对于后续的审查和追溯至关重要。\n汽车行业 HARA 实施案例 案例一：丰田意外加速事件（2009） 事件背景 2009 年至 2010 年，丰田汽车遭遇了严重的意外加速（Unintended Acceleration，UA）危机。多起报告称丰田车辆在没有驾驶员输入的情况下突然加速，导致多起事故和人员伤亡。丰田最初将问题归咎于地板垫和油门踏板的机械故障，但随后的调查发现，电子节气门控制系统（ETCS）的软件缺陷可能是根本原因。\nHARA 的缺失与教训 事后分析表明，丰田在 ETCS 的开发过程中存在严重的 HARA 缺陷：\n危害识别不足：丰田未能充分识别 ETCS 软件故障可能导致意外加速的危害。ETCS 使用复杂的软件算法来控制节气门，但这些算法的安全性分析不充分。\n安全架构缺陷：ETCS 缺乏足够的冗余和故障检测机制。当传感器或处理器发生故障时，系统无法及时检测并切换到安全状态。\n软件质量问题：NASA 的调查发现，ETCS 的软件存在多个潜在的故障模式，包括死锁、数据竞争和栈溢出等。\nISO 26262 的影响 这次事件成为汽车功能安全发展的转折点。它促使整个行业：\n开始系统性地实施 ISO 26262 标准 重视软件在安全关键系统中的作用 加强对 HARA 流程的投入和审查 建立独立的功能安全评估体系 丰田在事后重构了 ETCS 的安全架构，增加了多个故障检测和响应机制，并引入了更严格的软件开发流程。这些改进使得 ETCS 满足了 ISO 26262 的 ASIL D 要求，大大提高了系统的安全性。\n案例二：特斯拉 Autopilot 安全分析 特斯拉的自动驾驶策略 特斯拉是自动驾驶技术的先驱之一，其 Autopilot 和全自动驾驶（Full Self-Driving，FSD）功能在全球范围内拥有大量用户。与传统的汽车制造商不同，特斯拉采取了激进的策略，通过 纯视觉方案（Vision Only）来实现自动驾驶功能，仅依赖摄像头、神经网络和强大的计算平台。\nHARA 的挑战与实施 特斯拉的自动驾驶系统面临着独特的 HARA 挑战：\nAI 系统的不确定性：传统的 HARA 主要针对确定性的软件故障，而特斯拉的自动驾驶系统基于深度学习，其行为具有概率性和不确定性。这超出了传统 ISO 26262 的范畴。\n感知系统的局限性：摄像头的性能受到光照、天气、遮挡等多种因素的影响。HARA 需要充分考虑这些场景下的系统行为。\n人机交互的复杂性：Autopilot 是 L2 级自动驾驶系统，要求驾驶员始终保持对车辆的监控。HARA 需要分析人机交互过程中可能出现的问题，如驾驶员过度依赖系统、注意力不集中等。\n尽管特斯拉没有公开详细的 HARA 文档，但从其披露的安全功能可以看出，特斯拉采取了多层次的安全策略：\n碰撞避免系统：Autopilot 的主动碰撞避免系统使用传感器检测潜在危险，能够实时介入以避免事故。根据 NHTSA 的数据，配备特斯拉安全技术的车辆在每英里事故率上显著降低。\n驾驶员监控系统：特斯拉在方向盘上安装了扭矩传感器，监控驾驶员是否保持对车辆的控制。在 FSD Beta 版本中，还引入了基于摄像头的驾驶员注意力监控。\n冗余设计：特斯拉的自动驾驶硬件（如 Hardware 3.0）采用了冗余设计，包括多个摄像头、冗余的电源系统和独立的制动系统。\nISO 26262 与 SOTIF 的结合 特斯拉的 Autopilot 系统体现了现代汽车安全分析的趋势：将 ISO 26262 的功能安全与 ISO 21448（SOTIF）的预期功能安全性相结合。\n功能安全（ISO 26262）：确保系统在发生硬件或软件故障时，仍能保持安全。例如，摄像头故障时的降级策略，或计算单元故障时的备用控制模式。\n预期功能安全（SOTIF）：确保系统在没有故障的情况下，也能安全地执行其预期功能。例如，确保神经网络在复杂交通场景中的决策是可靠的，或确保系统能够识别其性能边界并安全退出。\n特斯拉的安全分析虽然未完全遵循传统的 HARA 流程，但其多层次的安全架构和持续的软件更新机制，体现了一种适应性更强的安全工程方法。\n案例三：电动汽车的 HARA 实施 电动汽车的特殊挑战 电动汽车（Electric Vehicle，EV）的普及带来了新的安全挑战，主要体现在以下几个方面：\n高压系统安全：电动汽车的电池、电机、逆变器等部件工作在高压（通常 $400\\text{ V}$ 到 $800\\text{ V}$）环境下，绝缘故障可能导致触电或火灾。\n电池热失控：锂离子电池在过充、过放、物理损伤或过热时可能发生热失控，导致火灾或爆炸。\n制动系统变化：电动汽车通常采用再生制动和机械制动的混合系统，增加了系统的复杂性。\n软件复杂度：电动汽车的电池管理系统（BMS）、充电管理系统、能量管理系统等都需要复杂的软件控制，增加了软件故障的风险。\nBMS 的 HARA 示例 电池管理系统（Battery Management System，BMS）是电动汽车的核心安全系统之一，负责监控电池组的状态、平衡电池单元、防止过充过放等。下面是一个简化的 BMS HARA 示例：\ngraph TB subgraph BMS HARA分析 Item[项目: BMS电池管理系统] --\u003e Hazard[危害识别] Hazard --\u003e H1[过充 Overcharging] Hazard --\u003e H2[过放 Overdischarging] Hazard --\u003e H3[单元不平衡 Cell Imbalance] Hazard --\u003e H4[热失控 Thermal Runaway] Hazard --\u003e H5[绝缘故障 Insulation Fault] H1 --\u003e Event[危害事件: 过充+高速行驶] Event --\u003e Assess[S3: 致命伤害\nE3: 高概率\nC2: 部分可控] Assess --\u003e ASILD[ASIL D] ASILD --\u003e Goal[安全目标:\n防止充电过程中过充\n避免热失控风险] Goal --\u003e FSR1[电池电压监测冗余 ASIL D] Goal --\u003e FSR2[充电控制算法验证 ASIL D] Goal --\u003e FSR3[BMS故障诊断响应 ASIL C] Goal --\u003e FSR4[热管理安全策略 ASIL B] end style Item fill:#5AC8FA,stroke:#007AFF,stroke-width:3px,color:#ffffff style Hazard fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff style Event fill:#AF52DE,stroke:#AF52DE,stroke-width:2px,color:#ffffff style ASILD fill:#FF3B30,stroke:#FF3B30,stroke-width:3px,color:#ffffff style Goal fill:#34C759,stroke:#34C759,stroke-width:3px,color:#ffffff 项目定义：\n功能：监控和管理锂离子电池组 输入：电池单元电压、温度、电流 输出：电池状态信息、充放电控制指令、故障诊断信息 危害识别：\n过充（Overcharging） 过放（Overdischarging） 单元电压不平衡（Cell imbalance） 热失控（Thermal runaway） 绝缘故障（Insulation fault） 危害事件分析： 以\"过充 + 高速行驶\"为例：\n严重度（S）：S3（过充可能导致热失控、火灾、人员伤亡） 暴露率（E）：E3（车辆行驶中经常充电） 可控性（C）：C2（驾驶员可以通过停车来缓解，但可能来不及） ASIL：ASIL D 安全目标： “防止电池组在充电过程中发生过充，避免热失控风险（ASIL D）”\n功能安全需求分配：\n电池电压监测冗余（ASIL D） 充电控制算法验证（ASIL D） BMS 故障诊断和响应（ASIL C） 热管理系统安全策略（ASIL B） 充电系统的 HARA 示例 充电系统是电动汽车的另一个关键安全系统，特别是在高压直流快充场景下。\n危害识别：\n充电连接器过热 绝缘故障 接地故障 充电过程中的电压异常 危害事件分析： 以\"充电连接器过热 + 室内充电\"为例：\n严重度（S）：S3（可能导致火灾、人员伤亡） 暴露率（E）：E2（室内充电场景常见） 可控性（C）：C1（用户可以拔掉连接器） ASIL：ASIL C 安全目标： “防止充电连接器在充电过程中过热，确保充电安全（ASIL C）”\n功能安全需求分配：\n充电电流监测和限制（ASIL C） 充电温度监测和过热保护（ASIL C） 充电连接器状态监测（ASIL B） 应急断电机制（ASIL B） 案例四：ADAS 系统的 HARA 实施 ADAS 系统的特点 高级驾驶辅助系统（Advanced Driver Assistance Systems，ADAS）包括自适应巡航控制（Adaptive Cruise Control，ACC）、自动紧急制动（Autonomous Emergency Braking，AEB）、车道保持辅助（Lane Keeping Assist，LKA）等功能。ADAS 系统的特点是：\n传感器融合：通常使用多个传感器（摄像头、雷达、激光雷达）来感知环境 人机共驾：驾驶员和系统共同控制车辆，需要明确的责任划分 场景依赖性：系统性能高度依赖于操作场景（天气、光照、交通状况等） AEB 系统的 HARA 示例 自动紧急制动系统（AEB）能够在检测到碰撞风险时自动施加制动，避免或减轻事故。AEB 是典型的 ASIL D 系统。\n项目定义：\n功能：检测前方障碍物，在碰撞不可避免时自动施加制动 输入：前方障碍物距离、相对速度、驾驶员制动输入 输出：制动力指令、警示信号 危害识别：\n误触发（False positive） 漏触发（False negative） 制动延迟 制动力不足 危害事件分析： 以\"误触发 + 高速行驶\"为例：\n严重度（S）：S2（可能导致后车追尾、人员受伤） 暴露率（E）：E3（高速公路常见场景） 可控性（C）：C1（后车可能反应不及） ASIL：ASIL C 以\"漏触发 + 碰撞不可避免\"为例：\n严重度（S）：S3（可能致命） 暴露率（E）：E2（交通事故概率中等） 可控性（C）：C3（驾驶员可能来不及反应） ASIL：ASIL D 安全目标：\n“防止 AEB 在不必要的情况下误触发，避免后车追尾（ASIL C）” “确保 AEB 在碰撞不可避免时能够可靠地触发，最大程度减轻事故（ASIL D）” 功能安全需求分配：\n前方障碍物检测算法验证（ASIL D） 传感器融合和故障检测（ASIL D） 制动系统冗余（ASIL D） 误触发抑制策略（ASIL C） LKA 系统的 HARA 示例 车道保持辅助系统（LKA）能够在车辆偏离车道时施加转向扭矩，帮助车辆保持在车道内。\n危害识别：\n转向扭矩过大（导致车辆过度转向） 转向扭矩方向错误（导致车辆偏离车道更远） 系统延迟 车道线识别错误 危害事件分析： 以\"转向扭矩方向错误 + 高速弯道\"为例：\n严重度（S）：S3（可能导致车辆冲出路面、翻车） 暴露率（E）：E2（高速公路弯道常见） 可控性（C）：C2（驾驶员可能来不及纠正） ASIL：ASIL D 安全目标： “确保 LKA 系统正确识别车道线并施加正确的转向扭矩，避免误将车辆导向危险方向（ASIL D）”\n功能安全需求分配：\n车道线识别算法验证（ASIL D） 转向扭矩监控和限制（ASIL D） 驾驶员干预检测（ASIL C） 系统降级策略（ASIL B） HARA 的未来发展趋势 人工智能与机器学习的集成 随着人工智能和机器学习在汽车系统中的广泛应用，传统的 HARA 方法论面临着新的挑战。AI 系统的特点是其行为具有概率性和不确定性，传统的故障分析工具可能不再适用。\n未来的 HARA 需要集成 AI 安全性分析的方法论，例如：\n形式化验证：使用数学方法证明 AI 系统的安全性属性 对抗性测试：通过生成对抗样本来测试 AI 系统的鲁棒性 可解释性分析：提高 AI 决策的可解释性，便于安全性分析 数字孪生技术 数字孪生技术可以在虚拟环境中创建汽车系统的数字模型，用于安全性分析和验证。未来，HARA 可能会更加依赖数字孪生技术，在虚拟环境中模拟各种故障场景和操作条件，从而更全面地识别风险。\n持续学习与更新 汽车系统越来越依赖软件更新来改进功能和修复问题。未来，HARA 需要支持持续学习和更新的机制，确保每次软件更新都不会引入新的安全风险。这可能包括：\n自动化的回归测试 实时监控和安全分析 动态的安全需求管理 跨领域标准化 随着汽车与互联网、云计算、5G 等技术的融合，汽车安全需要跨越传统的行业边界。未来，HARA 可能需要与其他领域的安全标准（如网络安全、信息安全等）相结合，形成更加综合的安全分析框架。\n结论 HARA 作为汽车功能安全的基石，已经从简单的故障分析发展成为一套系统化、多层次的工程方法论。从丰田意外加速事件的惨痛教训，到特斯拉 Autopilot 的创新实践，再到电动汽车和自动驾驶系统的广泛应用，HARA 不断演进以应对新的挑战。\n对于懂微积分和线性代数的读者来说，HARA 的魅力在于它将复杂的安全问题转化为可分析、可验证的数学模型。通过 ASIL 分级、风险矩阵和系统性的分析流程，HARA 为汽车工程提供了一种科学化的方法来平衡安全性与创新性。\n未来，随着人工智能、数字孪生、持续学习等新技术的应用，HARA 将继续演进，为汽车行业的安全发展保驾护航。在这个过程中，工程师需要保持开放的心态，不断学习和创新，以确保每一辆汽车都是安全的。\n毕竟，汽车不仅仅是交通工具，更是承载着千家万户幸福的载体。安全的汽车工程，是对生命最好的尊重。\n","wordCount":"942","inLanguage":"en","image":"https://s-ai-unix.github.io/images/covers/hara-automotive.jpg","datePublished":"2026-01-16T09:06:00+08:00","dateModified":"2026-01-16T09:06:00+08:00","author":{"@type":"Person","name":"s-ai-unix"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://s-ai-unix.github.io/posts/2026-01-16-hara-automotive-analysis/"},"publisher":{"@type":"Organization","name":"s-ai-unix's Blog","logo":{"@type":"ImageObject","url":"https://s-ai-unix.github.io/favicon.ico"}}}</script><link rel=stylesheet href=https://s-ai-unix.github.io/css/classical-quote.css></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://s-ai-unix.github.io/ accesskey=h title="s-ai-unix's Blog (Alt + H)">s-ai-unix's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://s-ai-unix.github.io/ title="🏠 首页"><span>🏠 首页</span></a></li><li><a href=https://s-ai-unix.github.io/posts/ title="📚 文章"><span>📚 文章</span></a></li><li><a href=https://s-ai-unix.github.io/archives/ title="📁 归档"><span>📁 归档</span></a></li><li><a href=https://s-ai-unix.github.io/tags/ title="🏷️ 标签"><span>🏷️ 标签</span></a></li><li><a href=https://s-ai-unix.github.io/search/ title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li><li><a href=https://s-ai-unix.github.io/about/ title="👤 关于"><span>👤 关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://s-ai-unix.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://s-ai-unix.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">汽车行业 HARA 分析综述：从理论到实践</h1><div class=post-description>深入探讨汽车行业危害分析与风险评估（HARA）的理论基础、发展历程及实际应用案例</div><div class=post-meta><span title='2026-01-16 09:06:00 +0800 CST'>January 16, 2026</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>942 words</span>&nbsp;·&nbsp;<span>s-ai-unix</span></div></header><figure class=entry-cover><a href=https://s-ai-unix.github.io/images/covers/hara-automotive.jpg target=_blank rel="noopener noreferrer"><img loading=eager src=https://s-ai-unix.github.io/images/covers/hara-automotive.jpg alt=汽车安全分析概念图></a><figcaption>现代汽车安全工程的核心</figcaption></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%bc%95%e8%a8%80 aria-label=引言>引言</a></li><li><a href=#hara-%e7%9a%84%e7%90%86%e8%ae%ba%e5%9f%ba%e7%a1%80 aria-label="HARA 的理论基础">HARA 的理论基础</a><ul><li><a href=#%e4%bb%80%e4%b9%88%e6%98%af-hara aria-label="什么是 HARA？">什么是 HARA？</a></li><li><a href=#iso-26262-%e6%a0%87%e5%87%86%e7%9a%84%e8%af%9e%e7%94%9f aria-label="ISO 26262 标准的诞生">ISO 26262 标准的诞生</a></li><li><a href=#hara-%e7%9a%84%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5asil-%e5%88%86%e7%ba%a7 aria-label="HARA 的核心概念：ASIL 分级">HARA 的核心概念：ASIL 分级</a></li></ul></li><li><a href=#hara-%e7%9a%84%e5%8f%91%e5%b1%95%e5%8e%86%e7%a8%8b aria-label="HARA 的发展历程">HARA 的发展历程</a><ul><li><a href=#%e6%97%a9%e6%9c%9f%e9%98%b6%e6%ae%b5%e7%bb%8f%e9%aa%8c%e9%a9%b1%e5%8a%a8 aria-label=早期阶段：经验驱动>早期阶段：经验驱动</a></li><li><a href=#%e6%a0%87%e5%87%86%e5%8c%96%e9%98%b6%e6%ae%b5iso-26262-%e7%9a%84%e8%af%9e%e7%94%9f aria-label="标准化阶段：ISO 26262 的诞生">标准化阶段：ISO 26262 的诞生</a></li><li><a href=#%e7%8e%b0%e4%bb%a3%e9%98%b6%e6%ae%b5%e6%99%ba%e8%83%bd%e7%bd%91%e8%81%94%e6%97%b6%e4%bb%a3%e7%9a%84%e6%8c%91%e6%88%98 aria-label=现代阶段：智能网联时代的挑战>现代阶段：智能网联时代的挑战</a></li></ul></li><li><a href=#hara-%e7%9a%84%e6%96%b9%e6%b3%95%e8%ae%ba%e8%af%a6%e8%a7%a3 aria-label="HARA 的方法论详解">HARA 的方法论详解</a><ul><li><a href=#hara-%e7%9a%84%e6%a0%b8%e5%bf%83%e6%b5%81%e7%a8%8b aria-label="HARA 的核心流程">HARA 的核心流程</a><ul><li><a href=#%e6%ad%a5%e9%aa%a4-1%e9%a1%b9%e7%9b%ae%e5%ae%9a%e4%b9%89item-definition aria-label="步骤 1：项目定义（Item Definition）">步骤 1：项目定义（Item Definition）</a></li><li><a href=#%e6%ad%a5%e9%aa%a4-2%e5%8d%b1%e5%ae%b3%e8%af%86%e5%88%abhazard-identification aria-label="步骤 2：危害识别（Hazard Identification）">步骤 2：危害识别（Hazard Identification）</a></li><li><a href=#%e6%ad%a5%e9%aa%a4-3%e5%8d%b1%e5%ae%b3%e4%ba%8b%e4%bb%b6%e5%88%86%e6%9e%90hazardous-event-analysis aria-label="步骤 3：危害事件分析（Hazardous Event Analysis）">步骤 3：危害事件分析（Hazardous Event Analysis）</a></li><li><a href=#%e6%ad%a5%e9%aa%a4-4asil-%e7%a1%ae%e5%ae%9aasil-determination aria-label="步骤 4：ASIL 确定（ASIL Determination）">步骤 4：ASIL 确定（ASIL Determination）</a></li><li><a href=#%e6%ad%a5%e9%aa%a4-5%e5%ae%89%e5%85%a8%e7%9b%ae%e6%a0%87%e5%ae%9a%e4%b9%89safety-goal-definition aria-label="步骤 5：安全目标定义（Safety Goal Definition）">步骤 5：安全目标定义（Safety Goal Definition）</a></li><li><a href=#%e6%ad%a5%e9%aa%a4-6%e5%8a%9f%e8%83%bd%e5%ae%89%e5%85%a8%e9%9c%80%e6%b1%82%e5%88%86%e9%85%8dfunctional-safety-requirement-allocation aria-label="步骤 6：功能安全需求分配（Functional Safety Requirement Allocation）">步骤 6：功能安全需求分配（Functional Safety Requirement Allocation）</a></li></ul></li><li><a href=#hara-%e7%9a%84%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5 aria-label="HARA 的最佳实践">HARA 的最佳实践</a></li></ul></li><li><a href=#%e6%b1%bd%e8%bd%a6%e8%a1%8c%e4%b8%9a-hara-%e5%ae%9e%e6%96%bd%e6%a1%88%e4%be%8b aria-label="汽车行业 HARA 实施案例">汽车行业 HARA 实施案例</a><ul><li><a href=#%e6%a1%88%e4%be%8b%e4%b8%80%e4%b8%b0%e7%94%b0%e6%84%8f%e5%a4%96%e5%8a%a0%e9%80%9f%e4%ba%8b%e4%bb%b62009 aria-label=案例一：丰田意外加速事件（2009）>案例一：丰田意外加速事件（2009）</a><ul><li><a href=#%e4%ba%8b%e4%bb%b6%e8%83%8c%e6%99%af aria-label=事件背景>事件背景</a></li><li><a href=#hara-%e7%9a%84%e7%bc%ba%e5%a4%b1%e4%b8%8e%e6%95%99%e8%ae%ad aria-label="HARA 的缺失与教训">HARA 的缺失与教训</a></li><li><a href=#iso-26262-%e7%9a%84%e5%bd%b1%e5%93%8d aria-label="ISO 26262 的影响">ISO 26262 的影响</a></li></ul></li><li><a href=#%e6%a1%88%e4%be%8b%e4%ba%8c%e7%89%b9%e6%96%af%e6%8b%89-autopilot-%e5%ae%89%e5%85%a8%e5%88%86%e6%9e%90 aria-label="案例二：特斯拉 Autopilot 安全分析">案例二：特斯拉 Autopilot 安全分析</a><ul><li><a href=#%e7%89%b9%e6%96%af%e6%8b%89%e7%9a%84%e8%87%aa%e5%8a%a8%e9%a9%be%e9%a9%b6%e7%ad%96%e7%95%a5 aria-label=特斯拉的自动驾驶策略>特斯拉的自动驾驶策略</a></li><li><a href=#hara-%e7%9a%84%e6%8c%91%e6%88%98%e4%b8%8e%e5%ae%9e%e6%96%bd aria-label="HARA 的挑战与实施">HARA 的挑战与实施</a></li><li><a href=#iso-26262-%e4%b8%8e-sotif-%e7%9a%84%e7%bb%93%e5%90%88 aria-label="ISO 26262 与 SOTIF 的结合">ISO 26262 与 SOTIF 的结合</a></li></ul></li><li><a href=#%e6%a1%88%e4%be%8b%e4%b8%89%e7%94%b5%e5%8a%a8%e6%b1%bd%e8%bd%a6%e7%9a%84-hara-%e5%ae%9e%e6%96%bd aria-label="案例三：电动汽车的 HARA 实施">案例三：电动汽车的 HARA 实施</a><ul><li><a href=#%e7%94%b5%e5%8a%a8%e6%b1%bd%e8%bd%a6%e7%9a%84%e7%89%b9%e6%ae%8a%e6%8c%91%e6%88%98 aria-label=电动汽车的特殊挑战>电动汽车的特殊挑战</a></li><li><a href=#bms-%e7%9a%84-hara-%e7%a4%ba%e4%be%8b aria-label="BMS 的 HARA 示例">BMS 的 HARA 示例</a></li><li><a href=#%e5%85%85%e7%94%b5%e7%b3%bb%e7%bb%9f%e7%9a%84-hara-%e7%a4%ba%e4%be%8b aria-label="充电系统的 HARA 示例">充电系统的 HARA 示例</a></li></ul></li><li><a href=#%e6%a1%88%e4%be%8b%e5%9b%9badas-%e7%b3%bb%e7%bb%9f%e7%9a%84-hara-%e5%ae%9e%e6%96%bd aria-label="案例四：ADAS 系统的 HARA 实施">案例四：ADAS 系统的 HARA 实施</a><ul><li><a href=#adas-%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%89%b9%e7%82%b9 aria-label="ADAS 系统的特点">ADAS 系统的特点</a></li><li><a href=#aeb-%e7%b3%bb%e7%bb%9f%e7%9a%84-hara-%e7%a4%ba%e4%be%8b aria-label="AEB 系统的 HARA 示例">AEB 系统的 HARA 示例</a></li><li><a href=#lka-%e7%b3%bb%e7%bb%9f%e7%9a%84-hara-%e7%a4%ba%e4%be%8b aria-label="LKA 系统的 HARA 示例">LKA 系统的 HARA 示例</a></li></ul></li></ul></li><li><a href=#hara-%e7%9a%84%e6%9c%aa%e6%9d%a5%e5%8f%91%e5%b1%95%e8%b6%8b%e5%8a%bf aria-label="HARA 的未来发展趋势">HARA 的未来发展趋势</a><ul><li><a href=#%e4%ba%ba%e5%b7%a5%e6%99%ba%e8%83%bd%e4%b8%8e%e6%9c%ba%e5%99%a8%e5%ad%a6%e4%b9%a0%e7%9a%84%e9%9b%86%e6%88%90 aria-label=人工智能与机器学习的集成>人工智能与机器学习的集成</a></li><li><a href=#%e6%95%b0%e5%ad%97%e5%ad%aa%e7%94%9f%e6%8a%80%e6%9c%af aria-label=数字孪生技术>数字孪生技术</a></li><li><a href=#%e6%8c%81%e7%bb%ad%e5%ad%a6%e4%b9%a0%e4%b8%8e%e6%9b%b4%e6%96%b0 aria-label=持续学习与更新>持续学习与更新</a></li><li><a href=#%e8%b7%a8%e9%a2%86%e5%9f%9f%e6%a0%87%e5%87%86%e5%8c%96 aria-label=跨领域标准化>跨领域标准化</a></li></ul></li><li><a href=#%e7%bb%93%e8%ae%ba aria-label=结论>结论</a></li></ul></div></details></div><div class=post-content><h2 id=引言>引言<a hidden class=anchor aria-hidden=true href=#引言>#</a></h2><p>想象一下这样的场景：一辆电动汽车正在高速公路上以 $100\text{ km/h}$ 的速度行驶，突然，电子节气门控制系统发生故障，导致车辆意外加速。驾驶员试图踩下刹车，但车辆却继续加速，最终酿成悲剧。这不是虚构的假设，而是真实发生过的汽车安全事故——2009 年丰田意外加速事件。</p><p>这个悲剧促使整个汽车行业重新思考安全工程的方法论。在这个过程中，<strong>危害分析与风险评估（Hazard Analysis and Risk Assessment，简称 HARA）</strong> 逐渐成为汽车功能安全的基石。HARA 不仅仅是一个技术流程，更是一种系统化的思维框架，帮助工程师在复杂的汽车系统中识别潜在风险，并制定相应的防护措施。</p><p>今天，我们就来深入探讨 HARA 的理论基础、发展历程以及在汽车行业的实际应用。</p><h2 id=hara-的理论基础>HARA 的理论基础<a hidden class=anchor aria-hidden=true href=#hara-的理论基础>#</a></h2><h3 id=什么是-hara>什么是 HARA？<a hidden class=anchor aria-hidden=true href=#什么是-hara>#</a></h3><p>HARA 是 <strong>ISO 26262</strong> 汽车功能安全标准中定义的核心流程，旨在系统性地识别由系统故障导致的危害事件，评估相关风险，并制定安全目标以避免不合理风险的发生。简单来说，HARA 回答了三个关键问题：</p><ol><li><strong>什么可能出错？</strong>（危害识别）</li><li><strong>如果出错了，后果有多严重？</strong>（风险评估）</li><li><strong>如何防止或缓解风险？</strong>（安全措施）</li></ol><p>HARA 是在整个汽车产品生命周期中实施的第一个主要任务，也是 ISO 26262 合规流程中的关键环节。它发生在概念设计阶段，为后续的系统架构设计、测试和验证奠定了基础。</p><h3 id=iso-26262-标准的诞生>ISO 26262 标准的诞生<a hidden class=anchor aria-hidden=true href=#iso-26262-标准的诞生>#</a></h3><p>要理解 HARA，我们必须先了解 ISO 26262 标准的诞生背景。</p><p>在汽车电子系统日益复杂的背景下，国际电工委员会（IEC）制定的 <strong>IEC 61508</strong> 标准为功能安全提供了通用的方法论。然而，汽车行业有其特殊性：大规模生产、成本敏感、高度分布式系统架构等。因此，在 IEC 61508 的基础上，汽车行业专门制定了 ISO 26262 标准，即 &ldquo;道路车辆功能安全&rdquo; 标准（Road vehicles – Functional safety）。</p><p>ISO 26262 首次于 <strong>2011 年</strong> 发布，涵盖了汽车电气/电子系统的整个安全生命周期，从概念阶段、系统设计、硬件设计、软件设计，到生产、运行、服务，直到退役。HARA 在 ISO 26262 第 3 部分（概念阶段）中被正式定义，是功能安全工程活动的起点。</p><h3 id=hara-的核心概念asil-分级>HARA 的核心概念：ASIL 分级<a hidden class=anchor aria-hidden=true href=#hara-的核心概念asil-分级>#</a></h3><p>在 HARA 流程中，最重要的输出之一是 <strong>汽车安全完整性等级（Automotive Safety Integrity Level，ASIL）</strong> 的确定。ASIL 是对系统安全要求的分类，从低到高分为四个等级：QM（质量管理体系）、ASIL A、ASIL B、ASIL C 和 ASIL D。</p><p>ASIL 的确定基于三个维度的评估：</p><ol><li><strong>严重度（Severity，S）</strong>：如果发生故障，对驾驶员、乘客或其他道路使用者可能造成的伤害程度。</li><li><strong>暴露率（Exposure，E）</strong>：车辆运行过程中，暴露在特定操作场景中的概率。</li><li><strong>可控性（Controllability，C）</strong>：驾驶员或其他相关人员能够通过合理的操作来避免或减轻事故的能力。</li></ol><p>这三个维度的组合确定了最终的 ASIL 等级，可以用一个简单的矩阵来表示：</p><p>$$ \text{ASIL} = f(S, E, C) $$</p><p>其中，$S \in {0, 1, 2, 3}$（从无伤害到致命伤害），$E \in {0, 1, 2, 3, 4}$（从极低概率到极高概率），$C \in {0, 1, 2, 3}$（从易于控制到难以控制）。ASIL 的等级越高，意味着系统需要更严格的安全措施和更高的开发成本。</p><div class=mermaid-wrapper style="background:#fff;padding:2rem 1rem;margin:2rem 0;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,8%)"><div class=mermaid>graph TB
subgraph ASIL三维评估模型
S[严重度 Severity<br>S0: 无伤害<br>S1: 轻微伤害<br>S2: 严重伤害<br>S3: 致命伤害]
E[暴露率 Exposure<br>E0: 极低概率<br>E1: 低概率<br>E2: 中等概率<br>E3: 高概率<br>E4: 极高概率]
C[可控性 Controllability<br>C0: 完全可控<br>C1: 易于控制<br>C2: 正常可控<br>C3: 难以控制]
S --> ASIL[ASIL等级确定]
E --> ASIL
C --> ASIL
end
ASIL --> R[QM 质量管理]
ASIL --> A[ASIL A 较低要求]
ASIL --> B[ASIL B 中等要求]
ASIL --> CC[ASIL C 高要求]
ASIL --> D[ASIL D 最高要求]
style S fill:#FF3B30,stroke:#FF3B30,stroke-width:2px,color:#ffffff
style E fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff
style C fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff
style ASIL fill:#AF52DE,stroke:#AF52DE,stroke-width:3px,color:#ffffff
style R fill:#8E8E93,stroke:#8E8E93,stroke-width:2px,color:#ffffff
style A fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff
style B fill:#30D158,stroke:#34C759,stroke-width:2px,color:#ffffff
style CC fill:#32D74B,stroke:#32D74B,stroke-width:2px,color:#ffffff
style D fill:#007AFF,stroke:#007AFF,stroke-width:3px,color:#ffffff</div></div><h2 id=hara-的发展历程>HARA 的发展历程<a hidden class=anchor aria-hidden=true href=#hara-的发展历程>#</a></h2><h3 id=早期阶段经验驱动>早期阶段：经验驱动<a hidden class=anchor aria-hidden=true href=#早期阶段经验驱动>#</a></h3><p>在 HARA 方法论正式标准化之前，汽车安全主要依赖于工程师的经验和试错。1950 年代，丰田通过精益生产系统（Toyota Production System）来提升质量，但此时的安全更多是事后反应而非事前预防。</p><p>这个阶段的安全分析主要集中在机械系统和简单的电气系统上。对于复杂的电子控制系统，工程师往往依赖故障模式影响分析（Failure Mode and Effects Analysis，FMEA）等工具，但这些方法更偏向于可靠性分析而非系统化的风险评估。</p><h3 id=标准化阶段iso-26262-的诞生>标准化阶段：ISO 26262 的诞生<a hidden class=anchor aria-hidden=true href=#标准化阶段iso-26262-的诞生>#</a></h3><p>随着汽车电子系统的日益复杂，尤其是电子节气门控制系统（Electronic Throttle Control System，ETCS）、防抱死制动系统（Anti-lock Braking System，ABS）、电子稳定控制系统（Electronic Stability Control，ESC）等安全关键系统的广泛应用，行业对系统化安全分析方法的需求变得迫切。</p><p>2009 年的丰田意外加速事件成为了汽车功能安全发展的转折点。这次事故不仅造成了人员伤亡，更暴露了传统安全方法的局限性。事后调查发现，ETCS 的软件设计和安全架构存在缺陷，而这些问题在传统测试中并未被发现。</p><p>这次事件促使整个行业重新审视安全工程的方法论，并推动了 ISO 26262 标准的制定和广泛应用。HARA 作为 ISO 26262 的核心流程，开始在汽车行业得到系统性应用。</p><h3 id=现代阶段智能网联时代的挑战>现代阶段：智能网联时代的挑战<a hidden class=anchor aria-hidden=true href=#现代阶段智能网联时代的挑战>#</a></h3><p>随着自动驾驶、车联网、人工智能等新技术的应用，汽车安全工程面临着前所未有的挑战。传统的 HARA 方法论主要针对已知的功能性故障，但在自动驾驶系统中，很多风险来自于人工智能决策的不确定性、传感器感知的局限性以及复杂交通环境中的未知场景。</p><p>为了应对这些挑战，ISO 组织在 2022 年发布了 <strong>ISO 21448（SOTIF，Safety of the Intended Functionality，预期功能的安全性）</strong> 标准。SOTIF 补充了 ISO 26262，专门针对由功能设计缺陷而非系统故障导致的风险。这使得 HARA 的范围进一步扩展，从单纯的故障分析扩展到功能安全与预期功能安全的综合分析。</p><h2 id=hara-的方法论详解>HARA 的方法论详解<a hidden class=anchor aria-hidden=true href=#hara-的方法论详解>#</a></h2><h3 id=hara-的核心流程>HARA 的核心流程<a hidden class=anchor aria-hidden=true href=#hara-的核心流程>#</a></h3><p>HARA 是一个系统化的流程，通常包含以下关键步骤：</p><div class=mermaid-wrapper style="background:#fff;padding:2rem 1rem;margin:2rem 0;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,8%)"><div class=mermaid>flowchart TD
Start[HARA分析开始] --> Step1[步骤1: 项目定义<br>Item Definition]
Step1 --> Step2[步骤2: 危害识别<br>Hazard Identification]
Step2 --> Step3[步骤3: 危害事件分析<br>Hazardous Event Analysis]
Step3 --> Step4[步骤4: ASIL确定<br>ASIL Determination]
Step4 --> Step5[步骤5: 安全目标定义<br>Safety Goal Definition]
Step5 --> Step6[步骤6: 功能安全需求分配<br>FSR Allocation]
Step6 --> End[输出安全需求规格]
style Start fill:#007AFF,stroke:#007AFF,stroke-width:3px,color:#ffffff
style Step1 fill:#5AC8FA,stroke:#007AFF,stroke-width:2px,color:#ffffff
style Step2 fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff
style Step3 fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff
style Step4 fill:#AF52DE,stroke:#AF52DE,stroke-width:2px,color:#ffffff
style Step5 fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff
style Step6 fill:#30D158,stroke:#34C759,stroke-width:2px,color:#ffffff
style End fill:#32D74B,stroke:#32D74B,stroke-width:3px,color:#ffffff</div></div><h4 id=步骤-1项目定义item-definition>步骤 1：项目定义（Item Definition）<a hidden class=anchor aria-hidden=true href=#步骤-1项目定义item-definition>#</a></h4><p>在进行 HARA 之前，首先需要明确分析的对象——即 <strong>项目（Item）</strong>。项目定义包括系统的功能、边界、与其他系统的接口、以及操作场景等。这个定义需要清晰、完整，因为它是后续所有分析的基础。</p><p>例如，对于制动系统，项目定义可能包括：</p><ul><li>主要功能：响应驾驶员的制动输入，施加制动力</li><li>输入：制动踏板位置、车速、路面摩擦系数等</li><li>输出：制动力分配、ABS 激活信号等</li><li>与其他系统的接口：ESP、自动驾驶系统等</li></ul><h4 id=步骤-2危害识别hazard-identification>步骤 2：危害识别（Hazard Identification）<a hidden class=anchor aria-hidden=true href=#步骤-2危害识别hazard-identification>#</a></h4><p>危害识别的目标是识别出所有可能导致车辆危害的故障行为。这个步骤需要考虑：</p><ul><li><strong>正常操作场景</strong>：车辆在预期条件下的正常使用</li><li><strong>合理误用场景</strong>：驾驶员可能在合理范围内的非预期操作</li><li><strong>系统边界条件</strong>：系统在各种工作条件下的行为</li></ul><p>例如，对于制动系统，可能的危害包括：</p><ul><li>制动力不足</li><li>制动力过强（意外制动）</li><li>制动力不对称（导致车辆跑偏）</li><li>制动延迟</li></ul><p>在这个阶段，工程师通常会使用系统化的方法，如 <strong>故障模式影响分析（FMEA）</strong> 或 <strong>危险与可操作性分析（Hazard and Operability Study，HAZOP）</strong> 来辅助危害识别。</p><h4 id=步骤-3危害事件分析hazardous-event-analysis>步骤 3：危害事件分析（Hazardous Event Analysis）<a hidden class=anchor aria-hidden=true href=#步骤-3危害事件分析hazardous-event-analysis>#</a></h4><p>识别出危害后，下一步是分析这些危害在不同操作场景下的影响。危害事件是 <strong>危害 + 操作场景</strong> 的组合。例如：</p><ul><li>制动力不足 + 高速行驶 = 严重危害事件</li><li>制动力不足 + 停车状态 = 轻微危害事件</li></ul><p>对于每个危害事件，需要评估三个维度：严重度（S）、暴露率（E）和可控性（C）。</p><p><strong>严重度（Severity，S）</strong> 分为四个等级：</p><ul><li>S0：无伤害</li><li>S1：轻微或中等伤害</li><li>S2：严重伤害（危及生命但可存活）</li><li>S3：致命或幸存者极少</li></ul><p><strong>暴露率（Exposure，E）</strong> 分为五个等级：</p><ul><li>E0：极低概率（几乎不可能）</li><li>E1：低概率</li><li>E2：中等概率</li><li>E3：高概率</li><li>E4：极高概率</li></ul><p><strong>可控性（Controllability，C）</strong> 分为四个等级：</p><ul><li>C0：完全可控</li><li>C1：易于控制</li><li>C2：一般可控</li><li>C3：难以控制</li></ul><h4 id=步骤-4asil-确定asil-determination>步骤 4：ASIL 确定（ASIL Determination）<a hidden class=anchor aria-hidden=true href=#步骤-4asil-确定asil-determination>#</a></h4><p>基于对 S、E、C 的评估，可以确定每个危害事件的 ASIL 等级。ASIL 的确定遵循一个预定义的矩阵，简单来说：</p><ul><li>ASIL D：最高安全要求，通常对应 S3、E4、C3 的组合</li><li>ASIL C：较高安全要求</li><li>ASIL B：中等安全要求</li><li>ASIL A：较低安全要求</li><li>QM：质量管理体系要求，不属于功能安全范畴</li></ul><p>需要注意的是，ASIL 的确定不是简单的数学计算，而是需要工程师的专业判断。在某些情况下，可能需要进行定性分析或专家评估。</p><h4 id=步骤-5安全目标定义safety-goal-definition>步骤 5：安全目标定义（Safety Goal Definition）<a hidden class=anchor aria-hidden=true href=#步骤-5安全目标定义safety-goal-definition>#</a></h4><p>基于 ASIL 等级，需要定义安全目标。安全目标是最高级别的安全要求，描述了需要防止或缓解的危害事件。安全目标需要与 ASIL 等级一致，并满足以下要求：</p><ul><li><strong>清晰明确</strong>：用精确的语言描述需要达到的安全状态</li><li><strong>可验证</strong>：能够通过测试或分析来验证是否满足要求</li><li><strong>与危害直接相关</strong>：直接针对识别出的危害事件</li></ul><p>例如，对于制动系统，一个安全目标可能是：
&ldquo;在车辆行驶过程中，防止制动力不足导致的车辆无法减速，以确保驾驶员能够在合理距离内将车辆停止（ASIL D）&rdquo;</p><h4 id=步骤-6功能安全需求分配functional-safety-requirement-allocation>步骤 6：功能安全需求分配（Functional Safety Requirement Allocation）<a hidden class=anchor aria-hidden=true href=#步骤-6功能安全需求分配functional-safety-requirement-allocation>#</a></h4><p>基于安全目标，需要将安全需求分配到系统的各个子系统。这个过程是自顶向下的分解，确保每个子系统都有明确的安全要求，并且这些要求的集合能够满足安全目标。</p><p>例如，对于上述制动系统的安全目标，可能需要分配以下功能安全需求：</p><ul><li>制动传感器冗余（ASIL D）</li><li>制动执行器监控（ASIL D）</li><li>制动力分配算法验证（ASIL D）</li><li>系统故障诊断和响应（ASIL C）</li></ul><h3 id=hara-的最佳实践>HARA 的最佳实践<a hidden class=anchor aria-hidden=true href=#hara-的最佳实践>#</a></h3><p>在实际应用中，遵循以下最佳实践可以显著提高 HARA 的质量：</p><ol><li><p><strong>早期介入</strong>：HARA 应该在概念设计阶段就启动，而不是等到设计完成后再进行。早期介入可以避免后期修改的高昂成本。</p></li><li><p><strong>跨学科协作</strong>：HARA 需要系统工程师、硬件工程师、软件工程师、安全工程师等多学科团队的参与，从不同角度全面识别风险。</p></li><li><p><strong>迭代更新</strong>：HARA 不是一次性的活动，而应该随着设计的演化和新信息的获取而持续更新。</p></li><li><p><strong>工具支持</strong>：使用专业的 HARA 工具（如 ANSYS Medini Analyze、Vector DaVinci 等）可以提高效率和一致性。</p></li><li><p><strong>文档管理</strong>：详细记录 HARA 过程中的决策和依据，这对于后续的审查和追溯至关重要。</p></li></ol><h2 id=汽车行业-hara-实施案例>汽车行业 HARA 实施案例<a hidden class=anchor aria-hidden=true href=#汽车行业-hara-实施案例>#</a></h2><h3 id=案例一丰田意外加速事件2009>案例一：丰田意外加速事件（2009）<a hidden class=anchor aria-hidden=true href=#案例一丰田意外加速事件2009>#</a></h3><h4 id=事件背景>事件背景<a hidden class=anchor aria-hidden=true href=#事件背景>#</a></h4><p>2009 年至 2010 年，丰田汽车遭遇了严重的意外加速（Unintended Acceleration，UA）危机。多起报告称丰田车辆在没有驾驶员输入的情况下突然加速，导致多起事故和人员伤亡。丰田最初将问题归咎于地板垫和油门踏板的机械故障，但随后的调查发现，电子节气门控制系统（ETCS）的软件缺陷可能是根本原因。</p><h4 id=hara-的缺失与教训>HARA 的缺失与教训<a hidden class=anchor aria-hidden=true href=#hara-的缺失与教训>#</a></h4><p>事后分析表明，丰田在 ETCS 的开发过程中存在严重的 HARA 缺陷：</p><ol><li><p><strong>危害识别不足</strong>：丰田未能充分识别 ETCS 软件故障可能导致意外加速的危害。ETCS 使用复杂的软件算法来控制节气门，但这些算法的安全性分析不充分。</p></li><li><p><strong>安全架构缺陷</strong>：ETCS 缺乏足够的冗余和故障检测机制。当传感器或处理器发生故障时，系统无法及时检测并切换到安全状态。</p></li><li><p><strong>软件质量问题</strong>：NASA 的调查发现，ETCS 的软件存在多个潜在的故障模式，包括死锁、数据竞争和栈溢出等。</p></li></ol><h4 id=iso-26262-的影响>ISO 26262 的影响<a hidden class=anchor aria-hidden=true href=#iso-26262-的影响>#</a></h4><p>这次事件成为汽车功能安全发展的转折点。它促使整个行业：</p><ul><li>开始系统性地实施 ISO 26262 标准</li><li>重视软件在安全关键系统中的作用</li><li>加强对 HARA 流程的投入和审查</li><li>建立独立的功能安全评估体系</li></ul><p>丰田在事后重构了 ETCS 的安全架构，增加了多个故障检测和响应机制，并引入了更严格的软件开发流程。这些改进使得 ETCS 满足了 ISO 26262 的 ASIL D 要求，大大提高了系统的安全性。</p><h3 id=案例二特斯拉-autopilot-安全分析>案例二：特斯拉 Autopilot 安全分析<a hidden class=anchor aria-hidden=true href=#案例二特斯拉-autopilot-安全分析>#</a></h3><h4 id=特斯拉的自动驾驶策略>特斯拉的自动驾驶策略<a hidden class=anchor aria-hidden=true href=#特斯拉的自动驾驶策略>#</a></h4><p>特斯拉是自动驾驶技术的先驱之一，其 Autopilot 和全自动驾驶（Full Self-Driving，FSD）功能在全球范围内拥有大量用户。与传统的汽车制造商不同，特斯拉采取了激进的策略，通过 <strong>纯视觉方案</strong>（Vision Only）来实现自动驾驶功能，仅依赖摄像头、神经网络和强大的计算平台。</p><h4 id=hara-的挑战与实施>HARA 的挑战与实施<a hidden class=anchor aria-hidden=true href=#hara-的挑战与实施>#</a></h4><p>特斯拉的自动驾驶系统面临着独特的 HARA 挑战：</p><ol><li><p><strong>AI 系统的不确定性</strong>：传统的 HARA 主要针对确定性的软件故障，而特斯拉的自动驾驶系统基于深度学习，其行为具有概率性和不确定性。这超出了传统 ISO 26262 的范畴。</p></li><li><p><strong>感知系统的局限性</strong>：摄像头的性能受到光照、天气、遮挡等多种因素的影响。HARA 需要充分考虑这些场景下的系统行为。</p></li><li><p><strong>人机交互的复杂性</strong>：Autopilot 是 L2 级自动驾驶系统，要求驾驶员始终保持对车辆的监控。HARA 需要分析人机交互过程中可能出现的问题，如驾驶员过度依赖系统、注意力不集中等。</p></li></ol><p>尽管特斯拉没有公开详细的 HARA 文档，但从其披露的安全功能可以看出，特斯拉采取了多层次的安全策略：</p><ul><li><p><strong>碰撞避免系统</strong>：Autopilot 的主动碰撞避免系统使用传感器检测潜在危险，能够实时介入以避免事故。根据 NHTSA 的数据，配备特斯拉安全技术的车辆在每英里事故率上显著降低。</p></li><li><p><strong>驾驶员监控系统</strong>：特斯拉在方向盘上安装了扭矩传感器，监控驾驶员是否保持对车辆的控制。在 FSD Beta 版本中，还引入了基于摄像头的驾驶员注意力监控。</p></li><li><p><strong>冗余设计</strong>：特斯拉的自动驾驶硬件（如 Hardware 3.0）采用了冗余设计，包括多个摄像头、冗余的电源系统和独立的制动系统。</p></li></ul><h4 id=iso-26262-与-sotif-的结合>ISO 26262 与 SOTIF 的结合<a hidden class=anchor aria-hidden=true href=#iso-26262-与-sotif-的结合>#</a></h4><p>特斯拉的 Autopilot 系统体现了现代汽车安全分析的趋势：将 ISO 26262 的功能安全与 ISO 21448（SOTIF）的预期功能安全性相结合。</p><ul><li><p><strong>功能安全（ISO 26262）</strong>：确保系统在发生硬件或软件故障时，仍能保持安全。例如，摄像头故障时的降级策略，或计算单元故障时的备用控制模式。</p></li><li><p><strong>预期功能安全（SOTIF）</strong>：确保系统在没有故障的情况下，也能安全地执行其预期功能。例如，确保神经网络在复杂交通场景中的决策是可靠的，或确保系统能够识别其性能边界并安全退出。</p></li></ul><p>特斯拉的安全分析虽然未完全遵循传统的 HARA 流程，但其多层次的安全架构和持续的软件更新机制，体现了一种适应性更强的安全工程方法。</p><h3 id=案例三电动汽车的-hara-实施>案例三：电动汽车的 HARA 实施<a hidden class=anchor aria-hidden=true href=#案例三电动汽车的-hara-实施>#</a></h3><h4 id=电动汽车的特殊挑战>电动汽车的特殊挑战<a hidden class=anchor aria-hidden=true href=#电动汽车的特殊挑战>#</a></h4><p>电动汽车（Electric Vehicle，EV）的普及带来了新的安全挑战，主要体现在以下几个方面：</p><ol><li><p><strong>高压系统安全</strong>：电动汽车的电池、电机、逆变器等部件工作在高压（通常 $400\text{ V}$ 到 $800\text{ V}$）环境下，绝缘故障可能导致触电或火灾。</p></li><li><p><strong>电池热失控</strong>：锂离子电池在过充、过放、物理损伤或过热时可能发生热失控，导致火灾或爆炸。</p></li><li><p><strong>制动系统变化</strong>：电动汽车通常采用再生制动和机械制动的混合系统，增加了系统的复杂性。</p></li><li><p><strong>软件复杂度</strong>：电动汽车的电池管理系统（BMS）、充电管理系统、能量管理系统等都需要复杂的软件控制，增加了软件故障的风险。</p></li></ol><h4 id=bms-的-hara-示例>BMS 的 HARA 示例<a hidden class=anchor aria-hidden=true href=#bms-的-hara-示例>#</a></h4><p>电池管理系统（Battery Management System，BMS）是电动汽车的核心安全系统之一，负责监控电池组的状态、平衡电池单元、防止过充过放等。下面是一个简化的 BMS HARA 示例：</p><div class=mermaid-wrapper style="background:#fff;padding:2rem 1rem;margin:2rem 0;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,8%)"><div class=mermaid>graph TB
subgraph BMS HARA分析
Item[项目: BMS电池管理系统] --> Hazard[危害识别]
Hazard --> H1[过充 Overcharging]
Hazard --> H2[过放 Overdischarging]
Hazard --> H3[单元不平衡 Cell Imbalance]
Hazard --> H4[热失控 Thermal Runaway]
Hazard --> H5[绝缘故障 Insulation Fault]
H1 --> Event[危害事件: 过充+高速行驶]
Event --> Assess[S3: 致命伤害<br>E3: 高概率<br>C2: 部分可控]
Assess --> ASILD[ASIL D]
ASILD --> Goal[安全目标:<br>防止充电过程中过充<br>避免热失控风险]
Goal --> FSR1[电池电压监测冗余 ASIL D]
Goal --> FSR2[充电控制算法验证 ASIL D]
Goal --> FSR3[BMS故障诊断响应 ASIL C]
Goal --> FSR4[热管理安全策略 ASIL B]
end
style Item fill:#5AC8FA,stroke:#007AFF,stroke-width:3px,color:#ffffff
style Hazard fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff
style Event fill:#AF52DE,stroke:#AF52DE,stroke-width:2px,color:#ffffff
style ASILD fill:#FF3B30,stroke:#FF3B30,stroke-width:3px,color:#ffffff
style Goal fill:#34C759,stroke:#34C759,stroke-width:3px,color:#ffffff</div></div><p><strong>项目定义</strong>：</p><ul><li>功能：监控和管理锂离子电池组</li><li>输入：电池单元电压、温度、电流</li><li>输出：电池状态信息、充放电控制指令、故障诊断信息</li></ul><p><strong>危害识别</strong>：</p><ul><li>过充（Overcharging）</li><li>过放（Overdischarging）</li><li>单元电压不平衡（Cell imbalance）</li><li>热失控（Thermal runaway）</li><li>绝缘故障（Insulation fault）</li></ul><p><strong>危害事件分析</strong>：
以"过充 + 高速行驶"为例：</p><ul><li><strong>严重度（S）</strong>：S3（过充可能导致热失控、火灾、人员伤亡）</li><li><strong>暴露率（E）</strong>：E3（车辆行驶中经常充电）</li><li><strong>可控性（C）</strong>：C2（驾驶员可以通过停车来缓解，但可能来不及）</li><li><strong>ASIL</strong>：ASIL D</li></ul><p><strong>安全目标</strong>：
&ldquo;防止电池组在充电过程中发生过充，避免热失控风险（ASIL D）&rdquo;</p><p><strong>功能安全需求分配</strong>：</p><ul><li>电池电压监测冗余（ASIL D）</li><li>充电控制算法验证（ASIL D）</li><li>BMS 故障诊断和响应（ASIL C）</li><li>热管理系统安全策略（ASIL B）</li></ul><h4 id=充电系统的-hara-示例>充电系统的 HARA 示例<a hidden class=anchor aria-hidden=true href=#充电系统的-hara-示例>#</a></h4><p>充电系统是电动汽车的另一个关键安全系统，特别是在高压直流快充场景下。</p><p><strong>危害识别</strong>：</p><ul><li>充电连接器过热</li><li>绝缘故障</li><li>接地故障</li><li>充电过程中的电压异常</li></ul><p><strong>危害事件分析</strong>：
以"充电连接器过热 + 室内充电"为例：</p><ul><li><strong>严重度（S）</strong>：S3（可能导致火灾、人员伤亡）</li><li><strong>暴露率（E）</strong>：E2（室内充电场景常见）</li><li><strong>可控性（C）</strong>：C1（用户可以拔掉连接器）</li><li><strong>ASIL</strong>：ASIL C</li></ul><p><strong>安全目标</strong>：
&ldquo;防止充电连接器在充电过程中过热，确保充电安全（ASIL C）&rdquo;</p><p><strong>功能安全需求分配</strong>：</p><ul><li>充电电流监测和限制（ASIL C）</li><li>充电温度监测和过热保护（ASIL C）</li><li>充电连接器状态监测（ASIL B）</li><li>应急断电机制（ASIL B）</li></ul><h3 id=案例四adas-系统的-hara-实施>案例四：ADAS 系统的 HARA 实施<a hidden class=anchor aria-hidden=true href=#案例四adas-系统的-hara-实施>#</a></h3><h4 id=adas-系统的特点>ADAS 系统的特点<a hidden class=anchor aria-hidden=true href=#adas-系统的特点>#</a></h4><p>高级驾驶辅助系统（Advanced Driver Assistance Systems，ADAS）包括自适应巡航控制（Adaptive Cruise Control，ACC）、自动紧急制动（Autonomous Emergency Braking，AEB）、车道保持辅助（Lane Keeping Assist，LKA）等功能。ADAS 系统的特点是：</p><ol><li><strong>传感器融合</strong>：通常使用多个传感器（摄像头、雷达、激光雷达）来感知环境</li><li><strong>人机共驾</strong>：驾驶员和系统共同控制车辆，需要明确的责任划分</li><li><strong>场景依赖性</strong>：系统性能高度依赖于操作场景（天气、光照、交通状况等）</li></ol><h4 id=aeb-系统的-hara-示例>AEB 系统的 HARA 示例<a hidden class=anchor aria-hidden=true href=#aeb-系统的-hara-示例>#</a></h4><p>自动紧急制动系统（AEB）能够在检测到碰撞风险时自动施加制动，避免或减轻事故。AEB 是典型的 ASIL D 系统。</p><p><strong>项目定义</strong>：</p><ul><li>功能：检测前方障碍物，在碰撞不可避免时自动施加制动</li><li>输入：前方障碍物距离、相对速度、驾驶员制动输入</li><li>输出：制动力指令、警示信号</li></ul><p><strong>危害识别</strong>：</p><ul><li>误触发（False positive）</li><li>漏触发（False negative）</li><li>制动延迟</li><li>制动力不足</li></ul><p><strong>危害事件分析</strong>：
以"误触发 + 高速行驶"为例：</p><ul><li><strong>严重度（S）</strong>：S2（可能导致后车追尾、人员受伤）</li><li><strong>暴露率（E）</strong>：E3（高速公路常见场景）</li><li><strong>可控性（C）</strong>：C1（后车可能反应不及）</li><li><strong>ASIL</strong>：ASIL C</li></ul><p>以"漏触发 + 碰撞不可避免"为例：</p><ul><li><strong>严重度（S）</strong>：S3（可能致命）</li><li><strong>暴露率（E）</strong>：E2（交通事故概率中等）</li><li><strong>可控性（C）</strong>：C3（驾驶员可能来不及反应）</li><li><strong>ASIL</strong>：ASIL D</li></ul><p><strong>安全目标</strong>：</p><ol><li>&ldquo;防止 AEB 在不必要的情况下误触发，避免后车追尾（ASIL C）&rdquo;</li><li>&ldquo;确保 AEB 在碰撞不可避免时能够可靠地触发，最大程度减轻事故（ASIL D）&rdquo;</li></ol><p><strong>功能安全需求分配</strong>：</p><ul><li>前方障碍物检测算法验证（ASIL D）</li><li>传感器融合和故障检测（ASIL D）</li><li>制动系统冗余（ASIL D）</li><li>误触发抑制策略（ASIL C）</li></ul><h4 id=lka-系统的-hara-示例>LKA 系统的 HARA 示例<a hidden class=anchor aria-hidden=true href=#lka-系统的-hara-示例>#</a></h4><p>车道保持辅助系统（LKA）能够在车辆偏离车道时施加转向扭矩，帮助车辆保持在车道内。</p><p><strong>危害识别</strong>：</p><ul><li>转向扭矩过大（导致车辆过度转向）</li><li>转向扭矩方向错误（导致车辆偏离车道更远）</li><li>系统延迟</li><li>车道线识别错误</li></ul><p><strong>危害事件分析</strong>：
以"转向扭矩方向错误 + 高速弯道"为例：</p><ul><li><strong>严重度（S）</strong>：S3（可能导致车辆冲出路面、翻车）</li><li><strong>暴露率（E）</strong>：E2（高速公路弯道常见）</li><li><strong>可控性（C）</strong>：C2（驾驶员可能来不及纠正）</li><li><strong>ASIL</strong>：ASIL D</li></ul><p><strong>安全目标</strong>：
&ldquo;确保 LKA 系统正确识别车道线并施加正确的转向扭矩，避免误将车辆导向危险方向（ASIL D）&rdquo;</p><p><strong>功能安全需求分配</strong>：</p><ul><li>车道线识别算法验证（ASIL D）</li><li>转向扭矩监控和限制（ASIL D）</li><li>驾驶员干预检测（ASIL C）</li><li>系统降级策略（ASIL B）</li></ul><h2 id=hara-的未来发展趋势>HARA 的未来发展趋势<a hidden class=anchor aria-hidden=true href=#hara-的未来发展趋势>#</a></h2><h3 id=人工智能与机器学习的集成>人工智能与机器学习的集成<a hidden class=anchor aria-hidden=true href=#人工智能与机器学习的集成>#</a></h3><p>随着人工智能和机器学习在汽车系统中的广泛应用，传统的 HARA 方法论面临着新的挑战。AI 系统的特点是其行为具有概率性和不确定性，传统的故障分析工具可能不再适用。</p><p>未来的 HARA 需要集成 AI 安全性分析的方法论，例如：</p><ul><li><strong>形式化验证</strong>：使用数学方法证明 AI 系统的安全性属性</li><li><strong>对抗性测试</strong>：通过生成对抗样本来测试 AI 系统的鲁棒性</li><li><strong>可解释性分析</strong>：提高 AI 决策的可解释性，便于安全性分析</li></ul><h3 id=数字孪生技术>数字孪生技术<a hidden class=anchor aria-hidden=true href=#数字孪生技术>#</a></h3><p>数字孪生技术可以在虚拟环境中创建汽车系统的数字模型，用于安全性分析和验证。未来，HARA 可能会更加依赖数字孪生技术，在虚拟环境中模拟各种故障场景和操作条件，从而更全面地识别风险。</p><h3 id=持续学习与更新>持续学习与更新<a hidden class=anchor aria-hidden=true href=#持续学习与更新>#</a></h3><p>汽车系统越来越依赖软件更新来改进功能和修复问题。未来，HARA 需要支持持续学习和更新的机制，确保每次软件更新都不会引入新的安全风险。这可能包括：</p><ul><li>自动化的回归测试</li><li>实时监控和安全分析</li><li>动态的安全需求管理</li></ul><h3 id=跨领域标准化>跨领域标准化<a hidden class=anchor aria-hidden=true href=#跨领域标准化>#</a></h3><p>随着汽车与互联网、云计算、5G 等技术的融合，汽车安全需要跨越传统的行业边界。未来，HARA 可能需要与其他领域的安全标准（如网络安全、信息安全等）相结合，形成更加综合的安全分析框架。</p><h2 id=结论>结论<a hidden class=anchor aria-hidden=true href=#结论>#</a></h2><p>HARA 作为汽车功能安全的基石，已经从简单的故障分析发展成为一套系统化、多层次的工程方法论。从丰田意外加速事件的惨痛教训，到特斯拉 Autopilot 的创新实践，再到电动汽车和自动驾驶系统的广泛应用，HARA 不断演进以应对新的挑战。</p><p>对于懂微积分和线性代数的读者来说，HARA 的魅力在于它将复杂的安全问题转化为可分析、可验证的数学模型。通过 ASIL 分级、风险矩阵和系统性的分析流程，HARA 为汽车工程提供了一种科学化的方法来平衡安全性与创新性。</p><p>未来，随着人工智能、数字孪生、持续学习等新技术的应用，HARA 将继续演进，为汽车行业的安全发展保驾护航。在这个过程中，工程师需要保持开放的心态，不断学习和创新，以确保每一辆汽车都是安全的。</p><p>毕竟，汽车不仅仅是交通工具，更是承载着千家万户幸福的载体。安全的汽车工程，是对生命最好的尊重。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://s-ai-unix.github.io/tags/hara/>HARA</a></li><li><a href=https://s-ai-unix.github.io/tags/iso-26262/>ISO 26262</a></li><li><a href=https://s-ai-unix.github.io/tags/%E5%8A%9F%E8%83%BD%E5%AE%89%E5%85%A8/>功能安全</a></li><li><a href=https://s-ai-unix.github.io/tags/asil/>ASIL</a></li></ul><nav class=paginav><a class=prev href=https://s-ai-unix.github.io/posts/2026-01-16-automotive-risk-analysis-overview/><span class=title>« Prev</span><br><span>汽车领域风险分析综述：从传统方法到AI时代的演进与标准体系</span>
</a><a class=next href=https://s-ai-unix.github.io/posts/2026-01-15-neural-network-evolution/><span class=title>Next »</span><br><span>神经网络算法演进：从感知机到 Transformer 的七十年征程</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 汽车行业 HARA 分析综述：从理论到实践 on x" href="https://x.com/intent/tweet/?text=%e6%b1%bd%e8%bd%a6%e8%a1%8c%e4%b8%9a%20HARA%20%e5%88%86%e6%9e%90%e7%bb%bc%e8%bf%b0%ef%bc%9a%e4%bb%8e%e7%90%86%e8%ae%ba%e5%88%b0%e5%ae%9e%e8%b7%b5&amp;url=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-16-hara-automotive-analysis%2f&amp;hashtags=HARA%2cISO26262%2c%e5%8a%9f%e8%83%bd%e5%ae%89%e5%85%a8%2cASIL"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 汽车行业 HARA 分析综述：从理论到实践 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-16-hara-automotive-analysis%2f&amp;title=%e6%b1%bd%e8%bd%a6%e8%a1%8c%e4%b8%9a%20HARA%20%e5%88%86%e6%9e%90%e7%bb%bc%e8%bf%b0%ef%bc%9a%e4%bb%8e%e7%90%86%e8%ae%ba%e5%88%b0%e5%ae%9e%e8%b7%b5&amp;summary=%e6%b1%bd%e8%bd%a6%e8%a1%8c%e4%b8%9a%20HARA%20%e5%88%86%e6%9e%90%e7%bb%bc%e8%bf%b0%ef%bc%9a%e4%bb%8e%e7%90%86%e8%ae%ba%e5%88%b0%e5%ae%9e%e8%b7%b5&amp;source=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-16-hara-automotive-analysis%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 汽车行业 HARA 分析综述：从理论到实践 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-16-hara-automotive-analysis%2f&title=%e6%b1%bd%e8%bd%a6%e8%a1%8c%e4%b8%9a%20HARA%20%e5%88%86%e6%9e%90%e7%bb%bc%e8%bf%b0%ef%bc%9a%e4%bb%8e%e7%90%86%e8%ae%ba%e5%88%b0%e5%ae%9e%e8%b7%b5"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 汽车行业 HARA 分析综述：从理论到实践 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-16-hara-automotive-analysis%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=s-ai-unix/blog data-repo-id=R_kgDOQ3Njaw data-category=General data-category-id=DIC_kwDOQ3Nja84C0yve data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2026 <a href=https://s-ai-unix.github.io/>s-ai-unix's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>(function(){"use strict";function e(){var e=document.querySelectorAll("p, li, td, div, span, h1, h2, h3, h4, h5, h6, ol, ul");e.forEach(function(e){if(e.classList.contains("classical-quote-container")||e.classList.contains("quote-text")||e.closest(".classical-quote-container"))return;var n,t=e.innerHTML,s=!1;for(t.indexOf("<em>")!==-1&&(n=t.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),n=n.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),n!==t&&(t=n,s=!0)),t.indexOf("</em>")!==-1&&(n=t.replace(/\$([^$]*?)<\/em>([^$]*?)\$/g,function(e,t,n){return"$"+t+"_{"+n+"$"}),n=n.replace(/\$\$([^$]*?)<\/em>([^$]*?)\$\$/g,function(e,t,n){return"$$"+t+"_{"+n+"$$"}),n!==t&&(t=n,s=!0)),t.indexOf("<em>$")!==-1&&(n=t.replace(/<em>\$/g,"$"),n!==t&&(t=n,s=!0)),t.indexOf("</em>$")!==-1&&(n=t.replace(/<\/em>\$/g,"$"),n!==t&&(t=n,s=!0));t.indexOf("<em>")!==-1&&t.indexOf("</em>")!==-1;){if(n=t.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),n=n.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),n===t)break;t=n,s=!0}t.indexOf("_{")!==-1&&(n=t.replace(/_{/g,"_{"),n!==t&&(t=n,s=!0)),t.indexOf("}_")!==-1&&(n=t.replace(/}_/g,"}"),n!==t&&(t=n,s=!0)),t.indexOf("\\\\")!==-1&&(n=t.replace(/(\$\{1,2\})([^$]*?)(\$\{1,2\})/g,function(e,t,n,s){for(;n.indexOf("\\\\")!==-1;)n=n.replace(/\\\\/g,"\\");return t+n+s}),n!==t&&(t=n,s=!0)),s&&(e.innerHTML=t)})}window.MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0,tags:"ams",macros:{oiint:"\\mathop{∯}",oiiint:"\\mathop{∰}"}},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code"]},startup:{pageReady:function(){return e(),MathJax.startup.defaultPageReady().then(function(){console.log("MathJax formulas rendered successfully")})}}}})()</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=stylesheet href=/css/mermaid-custom.css><script src=/js/mermaid-converter.js></script><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

  
  setTimeout(() => {
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#e3f2fd',
        primaryTextColor: '#1565c0',
        primaryBorderColor: '#2196f3',
        lineColor: '#42a5f5',
        secondaryColor: '#f3e5f5',
        tertiaryColor: '#fff9c4',
        background: '#ffffff',
        mainBkg: '#ffffff',
        nodeBorder: '#2196f3',
        clusterBkg: '#ffffff',
        clusterBorder: '#e0e0e0',
        titleColor: '#1565c0',
        edgeLabelBackground: '#fafafa',
      },
      securityLevel: 'loose',
    });
  }, 100);
</script><script src=/js/toc.js></script><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){"use strict";function e(){var e=document.querySelectorAll("p, li, td, div, span, h1, h2, h3, h4, h5, h6, ol, ul");e.forEach(function(e){if(e.classList.contains("classical-quote-container")||e.classList.contains("quote-text")||e.closest(".classical-quote-container"))return;var n,t=e.innerHTML,s=!1;for(t.indexOf("<em>")!==-1&&(n=t.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),n=n.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),n!==t&&(t=n,s=!0)),t.indexOf("</em>")!==-1&&(n=t.replace(/\$([^$]*?)<\/em>([^$]*?)\$/g,function(e,t,n){return"$"+t+"_{"+n+"$"}),n=n.replace(/\$\$([^$]*?)<\/em>([^$]*?)\$\$/g,function(e,t,n){return"$$"+t+"_{"+n+"$$"}),n!==t&&(t=n,s=!0)),t.indexOf("<em>$")!==-1&&(n=t.replace(/<em>\$/g,"$"),n!==t&&(t=n,s=!0)),t.indexOf("</em>$")!==-1&&(n=t.replace(/<\/em>\$/g,"$"),n!==t&&(t=n,s=!0));t.indexOf("<em>")!==-1&&t.indexOf("</em>")!==-1;){if(n=t.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),n=n.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),n===t)break;t=n,s=!0}t.indexOf("_{")!==-1&&(n=t.replace(/_{/g,"_{"),n!==t&&(t=n,s=!0)),t.indexOf("}_")!==-1&&(n=t.replace(/}_/g,"}"),n!==t&&(t=n,s=!0)),t.indexOf("\\\\")!==-1&&(n=t.replace(/(\$\{1,2\})([^$]*?)(\$\{1,2\})/g,function(e,t,n,s){for(;n.indexOf("\\\\")!==-1;)n=n.replace(/\\\\/g,"\\");return t+n+s}),n!==t&&(t=n,s=!0)),s&&(e.innerHTML=t)})}window.MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0,tags:"ams",macros:{oiint:"\\mathop{∯}",oiiint:"\\mathop{∰}"}},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code"]},startup:{pageReady:function(){return e(),MathJax.startup.defaultPageReady().then(function(){console.log("MathJax formulas rendered successfully")})}}}})()</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=stylesheet href=/css/mermaid-custom.css><script src=/js/mermaid-converter.js></script><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

  
  setTimeout(() => {
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#e3f2fd',
        primaryTextColor: '#1565c0',
        primaryBorderColor: '#2196f3',
        lineColor: '#42a5f5',
        secondaryColor: '#f3e5f5',
        tertiaryColor: '#fff9c4',
        background: '#ffffff',
        mainBkg: '#ffffff',
        nodeBorder: '#2196f3',
        clusterBkg: '#ffffff',
        clusterBorder: '#e0e0e0',
        titleColor: '#1565c0',
        edgeLabelBackground: '#fafafa',
      },
      securityLevel: 'loose',
    });
  }, 100);
</script><script src=/js/toc.js></script></body></html>
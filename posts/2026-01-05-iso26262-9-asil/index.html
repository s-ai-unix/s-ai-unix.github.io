<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ISO 26262-9 ASIL导向的分析：深入系统安全 | s-ai-unix's Blog</title><meta name=keywords content="ISO 26262,功能安全,ASIL"><meta name=description content="深入解读 ISO 26262-9 ASIL导向的分析方法，学习如何针对不同 ASIL 等级进行深入的安全性分析。"><meta name=author content="s-ai-unix"><link rel=canonical href=https://s-ai-unix.github.io/posts/2026-01-05-iso26262-9-asil/><link crossorigin=anonymous href=/assets/css/stylesheet.0833aff7e1cf567ecfb9755701ee95a80535f671e2e1a0a770c9bc20a0a7b5bb.css integrity="sha256-CDOv9+HPVn7PuXVXAe6VqAU19nHi4aCncMm8IKCntbs=" rel="preload stylesheet" as=style><link rel=icon href=https://s-ai-unix.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://s-ai-unix.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://s-ai-unix.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://s-ai-unix.github.io/apple-touch-icon.png><link rel=mask-icon href=https://s-ai-unix.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://s-ai-unix.github.io/posts/2026-01-05-iso26262-9-asil/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://s-ai-unix.github.io/posts/2026-01-05-iso26262-9-asil/"><meta property="og:site_name" content="s-ai-unix's Blog"><meta property="og:title" content="ISO 26262-9 ASIL导向的分析：深入系统安全"><meta property="og:description" content="深入解读 ISO 26262-9 ASIL导向的分析方法，学习如何针对不同 ASIL 等级进行深入的安全性分析。"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-05T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-05T00:00:00+00:00"><meta property="article:tag" content="ISO 26262"><meta property="article:tag" content="功能安全"><meta property="article:tag" content="ASIL"><meta property="og:image" content="https://s-ai-unix.github.io/images/covers/iso26262-9-asil.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://s-ai-unix.github.io/images/covers/iso26262-9-asil.jpg"><meta name=twitter:title content="ISO 26262-9 ASIL导向的分析：深入系统安全"><meta name=twitter:description content="深入解读 ISO 26262-9 ASIL导向的分析方法，学习如何针对不同 ASIL 等级进行深入的安全性分析。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://s-ai-unix.github.io/posts/"},{"@type":"ListItem","position":2,"name":"ISO 26262-9 ASIL导向的分析：深入系统安全","item":"https://s-ai-unix.github.io/posts/2026-01-05-iso26262-9-asil/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ISO 26262-9 ASIL导向的分析：深入系统安全","name":"ISO 26262-9 ASIL导向的分析：深入系统安全","description":"深入解读 ISO 26262-9 ASIL导向的分析方法，学习如何针对不同 ASIL 等级进行深入的安全性分析。","keywords":["ISO 26262","功能安全","ASIL"],"articleBody":"引言 在汽车功能安全的实施过程中，不同 ASIL 等级要求不同深度和严格程度的分析方法。ISO 26262-9 专门针对 ASIL A、B、C、D 定义了相应的分析方法要求。\n想象一个真实场景：某汽车厂商的制动系统，虽然通过了 ASIL B 的 FMEA 分析，但系统仍然发生了严重的安全事故。事后调查发现，原因是 FMEA 分析不够深入，没有考虑某些极端的故障组合场景。\n这个案例告诉我们：**ASIL 等级越高，要求的分析越深入、越全面。**这正是 ISO 26262-9 ASIL 导向的分析方法的核心使命。\nASIL 导向分析的目标和范围 ASIL 导向分析的核心活动 ISO 26262-9 定义了针对不同 ASIL 等级的分析要求：\ngraph LR subgraph ASIL等级与分析方法对应关系 ASILA[ASIL A低安全要求] --\u003e FMEA1[FMEA失效模式分析] ASILB[ASIL B中低安全要求] --\u003e FMEA2[FMEA] ASILB --\u003e FTA1[FTA故障树分析] ASILC[ASIL C中高安全要求] --\u003e FMEA3[FMEA] ASILC --\u003e FTA2[FTA] ASILC --\u003e STPA1[STPA系统理论分析] ASILD[ASIL D最高安全要求] --\u003e FMEA4[FMEA] ASILD --\u003e FTA3[FTA] ASILD --\u003e STPA2[STPA] ASILD --\u003e SA[安全分析Safety Analysis] end style ASILA fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff style ASILB fill:#30D158,stroke:#34C759,stroke-width:2px,color:#ffffff style ASILC fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff style ASILD fill:#FF3B30,stroke:#FF3B30,stroke-width:3px,color:#ffffff style FMEA1 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style FMEA2 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style FMEA3 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style FMEA4 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style FTA1 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style FTA2 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style FTA3 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px style STPA1 fill:#AF52DE,stroke:#AF52DE,stroke-width:1px style STPA2 fill:#AF52DE,stroke:#AF52DE,stroke-width:1px style SA fill:#FF9500,stroke:#FF9500,stroke-width:2px ASIL A 分析\nFMEA（失效模式与影响分析） 基本的安全性分析 ASIL B 分析\nFMEA FTA（故障树分析） 基本的安全性分析 ASIL C 分析\nFMEA FTA STPA（系统理论过程分析） 深入的安全性分析 ASIL D 分析\nFMEA FTA STPA 安全分析（Safety Analysis） 非常深入的安全性分析 ASIL 导向分析的输入和输出 输入 系统架构设计：来自系统级开发 硬件架构设计：来自硬件级开发 软件架构设计：来自软件级开发 安全目标：来自概念阶段 功能安全需求：来自概念阶段 输出 FMEA 报告：失效模式与影响分析报告 FTA 报告：故障树分析报告 STPA 报告：系统理论过程分析报告 安全分析报告：深入的安全性分析报告 FMEA（失效模式与影响分析） FMEA 的定义 FMEA（Failure Mode and Effects Analysis） 是一种自底向上的分析方法，用于识别系统组件的潜在失效模式及其影响。\nFMEA 的类型 DFMEA（Design FMEA）：设计 FMEA，用于分析设计阶段的失效 PFMEA（Process FMEA）：过程 FMEA，用于分析生产过程的失效 SFMEA（System FMEA）：系统 FMEA，用于分析系统级的失效 FMEA 的步骤 第一步：系统分解 将系统分解为子系统、组件、零件等。\n第二步：识别失效模式 识别每个组件的潜在失效模式。\n第三步：分析失效影响 分析每个失效模式的局部影响、系统影响、车辆影响、用户影响。\n第四步：评估失效严重性（S） 评估失效的严重性等级（1-10）。\n第五步：评估失效频度（O） 评估失效发生的频度（1-10）。\n第六步：评估失效检测度（D） 评估失效的检测能力（1-10）。\n第七步：计算 RPN（风险优先数） $$ \\text{RPN} = S \\times O \\times D $$\n第八步：制定改进措施 针对高 RPN 的失效模式制定改进措施。\n案例：制动系统的 FMEA FMEA 表格：\n组件 失效模式 失效原因 局部影响 系统影响 车辆影响 用户影响 S O D RPN 压力传感器 开路 焊接不良 无信号 制动失效 停车困难 难以停车 9 4 5 180 压力传感器 短路 寄生电容 信号错误 制动误动作 意外制动 惊吓 7 3 4 84 压力传感器 漂移 温度变化 测量误差 制动不精确 制动不均匀 制动效果差 5 6 6 180 阀门 卡死 污染 无动作 制动失效 停车困难 难以停车 9 2 4 72 阀门 响应慢 润滑不良 动作延迟 制动延迟 停车距离增加 停车困难 7 4 5 140 MCU CPU 挂死 软件缺陷 无响应 系统失效 无助力 转向困难 8 3 4 96 MCU Flash 坏块 老化 数据损坏 控制错误 制动错误 制动效果差 6 2 3 36 改进措施：\n针对 RPN ≥ 100 的失效模式制定改进措施：\n失效模式 改进措施 责任人 状态 压力传感器开路 添加冗余传感器 硬件设计师 已实施 压力传感器漂移 添加温度补偿算法 软件设计师 已实施 阀门响应慢 改进阀门设计 机械设计师 计划中 MCU CPU 挂死 添加看门狗 硬件设计师 已实施 FTA（故障树分析） FTA 的定义 FTA（Fault Tree Analysis） 是一种自顶向下的分析方法，用于分析系统失效的原因。\nFTA 的步骤 第一步：定义顶层事件 定义要分析的顶层事件（通常是危险事件）。\n第二步：构建故障树 使用逻辑门（与门、或门）构建故障树。\n第三步：分析最小割集 识别导致顶层事件发生的最小失效组合。\n第四步：定性分析 分析失效模式的重要性和影响。\n第五步：定量分析 计算顶层事件的发生概率。\nFTA 的符号 符号 名称 描述 ○ 基本事件 不可再分的失效事件 ◇ 中间事件 逻辑门的输出事件 □ 顶层事件 要分析的顶层失效事件 ◇1 与门（AND） 所有输入都发生，输出才发生 ◇0 或门（OR） 任意输入发生，输出就发生 ○∘ 转移符号 连接到其他故障树 案例：制动系统的 FTA 顶层事件：制动失效导致无法停车\n故障树：\ngraph TB Top[制动失效顶层事件] --\u003e OR{{或门}} OR --\u003e Hydraulic[液压失效] OR --\u003e Electronic[电子失效] Hydraulic --\u003e OR2{{或门}} OR2 --\u003e Master[主缸失效基本事件] OR2 --\u003e Pipe[管路泄漏基本事件] Electronic --\u003e CPU[CPU故障基本事件] style Top fill:#FF3B30,stroke:#FF3B30,stroke-width:3px,color:#ffffff style OR fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff style OR2 fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff style Hydraulic fill:#5AC8FA,stroke:#007AFF,stroke-width:2px,color:#ffffff style Electronic fill:#5AC8FA,stroke:#007AFF,stroke-width:2px,color:#ffffff style Master fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff style Pipe fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff style CPU fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff 逻辑表达式：\n$$ \\text{制动失效} = \\text{主缸失效} + \\text{管路泄漏} + \\text{CPU 故障} $$\n最小割集：\n{主缸失效} {管路泄漏} {CPU 故障} 定量分析：\n假设：\n主缸失效概率：$10^{-6}$ 管路泄漏概率：$10^{-5}$ CPU 故障概率：$10^{-4}$ 制动失效概率（简化模型，假设失效相互独立）： $$ P(\\text{制动失效}) = P(\\text{主缸失效}) + P(\\text{管路泄漏}) + P(\\text{CPU 故障}) $$ $$ P(\\text{制动失效}) = 10^{-6} + 10^{-5} + 10^{-4} = 1.11 \\times 10^{-4} $$\n改进措施：\n失效模式 改进措施 责任人 状态 主缸失效 改进主缸设计 机械设计师 已实施 管路泄漏 改进管路连接 机械设计师 已实施 CPU 故障 添加冗余 MCU 硬件设计师 已实施 STPA（系统理论过程分析） STPA 的定义 STPA（System-Theoretic Process Analysis） 是一种基于系统理论的安全分析方法，用于分析系统中的潜在危险状态和导致这些状态的因果因素。\nSTPA 的步骤 第一步：识别系统危险 识别系统中的所有潜在危险。\n第二步：构建控制结构 构建系统的控制结构，识别控制器、执行器、传感器、受控过程。\n第三步：识别不安全控制行为（UCAs） 识别所有可能导致系统进入危险状态的控制行为。\n第四步：分析导致 UCAs 的原因 分析导致不安全控制行为的原因。\n第五步：制定安全约束和缓解措施 制定防止 UCAs 发生的安全约束和缓解措施。\n案例：制动系统的 STPA 系统危险：\n制动助力突然丧失 制动力突然增加（误制动） 制动力不足 控制结构：\n驾驶员 │ ┌────────┴────────┐ │ 制动控制器 │ │ │ 传感器 执行器 │ │ 制动踏板 阀门 │ │ 车辆状态 液压系统 不安全控制行为（UCAs）：\n提供不正确的制动力\n驾驶员需要制动，系统提供 insufficient 制动力 驾驶员不需要制动，系统提供 excessive 制动力 在错误的时间提供制动力\n在驾驶员未请求时施加制动力 在驾驶员请求时延迟提供制动力 制动力持续时间过长或过短\n制动力持续时间过长，导致车辆失控 制动力持续时间过短，制动效果不足 导致 UCAs 的原因：\nUCA 原因类型 具体原因 提供不正确的制动力 传感器故障 压力传感器开路/短路 提供不正确的制动力 执行器故障 阀门卡死/泄漏 提供不正确的制动力 控制器故障 CPU 挂死/计算错误 在错误的时间提供制动力 通信故障 CAN 总线延迟/中断 在错误的时间提供制动力 软件缺陷 时序错误 安全约束和缓解措施：\nUCA 安全约束 缓解措施 提供不正确的制动力 系统应准确测量制动踏板位置 添加冗余传感器 提供不正确的制动力 系统应准确控制阀门 添加阀门位置反馈 在错误的时间提供制动力 系统应实时响应制动请求 优化软件时序 在错误的时间提供制动力 系统应可靠通信 使用双 CAN 冗余 安全分析（Safety Analysis） 安全分析的定义 安全分析 是针对 ASIL D 等级的深入分析方法，包括：\n安全分析计划：制定安全分析计划 安全分析执行：执行安全分析 安全分析报告：编写安全分析报告 安全分析的方法 定性分析：分析失效模式、影响、原因 定量分析：计算失效概率、可靠性指标 确定性分析：分析系统的确定性行为 随机性分析：分析系统的随机性行为 案例：ASIL D 系统的安全分析 系统：电子驻车制动系统（EPB）\n安全分析计划：\n分析类型 分析方法 分析对象 责任人 计划时间 定性分析 FMEA 所有硬件组件 硬件设计师 2025-02-15 定性分析 FTA 系统失效 系统架构师 2025-02-20 定量分析 可靠性分析 系统 可靠性工程师 2025-02-25 确定性分析 STPA 控制系统 软件设计师 2025-02-28 随机性分析 蒙特卡洛仿真 系统 仿真工程师 2025-03-05 定量分析：\n假设 EPB 系统由以下组件组成：\n组件 FIT 率 冗余度 MCU1 50 无 MCU2 50 有 电机驱动器 30 有 角度传感器 20 有 阀门 10 有 系统 FIT 率计算：\n对于三模冗余的 MCU 系统：\n假设单个 MCU 的可靠度为 $R = 0.9999$（在任务时间内）。\n系统可靠度： $$ R_{\\text{system}} = R^3 + 3 \\times R^2 \\times (1-R) $$ $$ R_{\\text{system}} = 0.99999997 $$\n失效概率： $$ P(\\text{失效}) = 1 - R_{\\text{system}} = 1 - 0.99999997 = 3 \\times 10^{-8} $$\n转换为 FIT 率： $$ \\text{FIT} = \\frac{P(\\text{失效})}{\\text{任务时间}} \\times 10^9 $$ $$ \\text{FIT} = \\frac{3 \\times 10^{-8}}{1 \\text{ 小时}} \\times 10^9 = 0.03 \\text{ FIT} $$\n结论：\n通过三模冗余，系统的 FIT 率从 50 降低到 0.03 满足 ASIL D 的要求 ASIL 导向分析的差异 ASIL A 分析 要求：\n基本的 FMEA 基本的安全性分析 特点：\n分析深度较浅 分析范围较窄 重点识别主要失效模式 示例：\n简单的 FMEA 表格 识别主要失效模式 制定基本改进措施 ASIL B 分析 要求：\n详细的 FMEA FTA 基本的安全性分析 特点：\n分析深度中等 分析范围中等 重点识别主要失效模式和失效组合 示例：\n详细的 FMEA 表格 构建 FTA 故障树 识别最小割集 制定改进措施 ASIL C 分析 要求：\n详细的 FMEA 详细的 FTA STPA 深入的安全性分析 特点：\n分析深度较深 分析范围较广 重点关注失效组合、控制行为 示例：\n详细的 FMEA 表格 详细的 FTA 故障树 STPA 分析 分析导致 UCAs 的原因 制定详细安全约束 ASIL D 分析 要求：\n非常详细的 FMEA 非常详细的 FTA STPA 安全分析（包括定性、定量、确定性、随机性分析） 特点：\n分析深度非常深 分析范围非常广 重点关注所有可能的失效模式、失效组合、控制行为、随机性 示例：\n非常详细的 FMEA 表格 非常详细的 FTA 故障树 STPA 分析 定量分析（可靠性、失效概率） 确定性分析（控制行为） 随机性分析（蒙特卡洛仿真） 制定全面安全措施 实战案例：AEB 系统的 ASIL D 分析 让我们以一个实际项目为例，展示 ASIL D 系统的完整分析流程。\n项目背景 某汽车厂商正在开发 AEB 系统，用于在检测到碰撞风险时自动施加制动。ASIL 等级：D。\n第一步：FMEA 分析 系统组件：\n组件 失效模式 失效原因 局部影响 系统影响 车辆影响 用户影响 S O D RPN 摄像头 图像模糊 镜头污染 识别错误 判断错误 未制动 碰撞风险 9 4 3 108 摄像头 帧率下降 算法复杂度高 识别延迟 制动延迟 停车距离增加 碰撞风险 8 3 4 96 雷达 信号丢失 干扰 无数据 判断错误 未制动 碰撞风险 9 2 3 54 雷达 距离误差 温度变化 测量误差 判断错误 制动不精确 制动效果差 6 5 4 120 超声波传感器 信号丢失 污染 无数据 判断错误 未制动 碰撞风险 7 3 3 63 雷达 距离误差 温度变化 测量误差 判断错误 制动不精确 制动效果差 6 5 4 120 MCU CPU 挂死 软件缺陷 无响应 系统失效 无 AEB 碰撞风险 9 2 3 54 MCU 算法错误 软件缺陷 计算错误 判断错误 误制动/未制动 碰撞风险/误制动 9 2 4 72 改进措施：\n针对 RPN ≥ 100 的失效模式制定改进措施：\n失效模式 改进措施 责任人 状态 摄像头图像模糊 添加自动清洁功能 光学设计师 已实施 雷达距离误差 添加温度补偿算法 软件设计师 已实施 雷达距离误差 优化雷达设计 射频设计师 计划中 第二步：FTA 分析 顶层事件：AEB 失效导致碰撞\n故障树：\nAEB 失效 │ ┌────┴────┐ │ │ 传感器失效 控制器失效 │ │ ┌───┴───┐ ┌─┴────┐ │ │ │ │ 摄像头故障 雷达故障 CPU故障 算法错误 │ │ │ │ ○ ○ ○ ○ 逻辑表达式：\n$$ \\text{AEB 失效} = \\text{摄像头故障} + \\text{雷达故障} + \\text{CPU 故障} + \\text{算法错误} $$\n最小割集：\n{摄像头故障} {雷达故障} {CPU 故障} {算法错误} 定量分析：\n假设：\n摄像头故障概率：$10^{-5}$ 雷达故障概率：$10^{-5}$ CPU 故障概率：$10^{-6}$ 算法错误概率：$10^{-6}$ AEB 失效概率（简化模型）： $$ P(\\text{AEB 失效}) = 10^{-5} + 10^{-5} + 10^{-6} + 10^{-6} = 2.2 \\times 10^{-5} $$\n改进措施：\n失效模式 改进措施 责任人 状态 摄像头故障 添加冗余摄像头 硬件设计师 已实施 雷达故障 添加冗余雷达 硬件设计师 已实施 第三步：STPA 分析 系统危险：\n未能检测到碰撞风险 误判碰撞风险 制动力不足 制动力过大 制动时机不当 控制结构：\n驾驶员 │ ┌────────┴────────┐ │ AEB 控制器 │ │ │ 传感器 执行器 │ │ 摄像头/雷达/超声波 制动系统 │ │ 车辆环境 车辆状态 不安全控制行为（UCAs）：\n未能提供制动力\n检测到碰撞风险，但未提供制动力 提供错误的制动力\n未检测到碰撞风险，但提供了制动力（误制动） 检测到碰撞风险，但提供了 insufficient 制动力 检测到碰撞风险，但提供了 excessive 制动力 在错误的时间提供制动力\n制动过晚，导致碰撞 制动过早，导致误制动 导致 UCAs 的原因：\nUCA 原因类型 具体原因 未能提供制动力 传感器故障 摄像头/雷达/超声波传感器故障 未能提供制动力 控制器故障 CPU 挂死/算法错误 未能提供制动力 执行器故障 制动系统故障 提供错误的制动力 传感器误差 测量误差/漂移 提供错误的制动力 算法错误 碰撞判断错误 提供错误的制动力 控制器故障 CPU 错误 在错误的时间提供制动力 软件缺陷 时序错误 在错误的时间提供制动力 通信故障 延迟/中断 安全约束和缓解措施：\nUCA 安全约束 缓解措施 未能提供制动力 系统应准确检测碰撞风险 多传感器融合 未能提供制动力 系统应可靠控制制动 冗余控制器 提供错误的制动力 系统应准确测量障碍物 多传感器交叉验证 提供错误的制动力 系统应准确判断碰撞 优化算法 在错误的时间提供制动力 系统应实时响应 优化软件时序 在错误的时间提供制动力 系统应可靠通信 双 CAN 冗余 第四步：定量分析 系统 FIT 率计算：\n组件 FIT 率 冗余度 有效 FIT 率 摄像头 20 有 0.4 雷达 20 有 0.4 超声波传感器 10 有 0.2 MCU1 50 无 50 MCU2 50 有 0.25 制动系统 30 有 0.9 总 FIT 率： $$ \\text{FIT}_{\\text{total}} = 0.4 + 0.4 + 0.2 + 50 + 0.25 + 0.9 = 52.15 \\text{ FIT} $$\n转换为每小时失效概率： $$ \\text{Failure Rate} = \\frac{52.15}{10^9} = 5.215 \\times 10^{-8} \\text{ 每小时} $$\n满足 ASIL D 要求：\nASIL D 要求系统 FIT 率 \u003c 10 FIT 当前系统 FIT 率 52.15 FIT，不满足 改进措施：\n添加 MCU 冗余（三模冗余） 优化 MCU 软件，降低 FIT 率 改进后：\nMCU 三模冗余，有效 FIT 率：0.005 FIT 总 FIT 率：2.155 FIT 满足 ASIL D 要求 常见错误和最佳实践 常见错误 分析深度不足\nASIL D 系统只做 FMEA 忽视 FTA 或 STPA 分析方法不当\n选择的分析方法不适用于系统 分析方法应用不当 分析不完整\n未识别所有失效模式 未考虑失效组合 未考虑极端情况 改进措施不落实\n分析后不制定改进措施 改进措施不落实 最佳实践 根据 ASIL 等级选择分析方法\nASIL A：基本的 FMEA ASIL B：FMEA + FTA ASIL C：FMEA + FTA + STPA ASIL D：FMEA + FTA + STPA + 安全分析 深入分析，不要停留在表面\n识别所有失效模式 考虑失效组合 考虑极端情况 使用专业的分析工具\nFMEA 工具（如 Xfmea、APIS IQ-RM） FTA 工具（如 Isograph Reliability Workbench） STPA 工具（如 STPA Suite） 定期回顾和更新分析\n系统变更后重新分析 运行数据更新分析 事故调查更新分析 总结 ISO 26262-9 ASIL 导向的分析方法提供了针对不同 ASIL 等级的分析要求。通过本文的深入解读和丰富的案例实践，我们掌握了：\nFMEA（失效模式与影响分析）：\nFMEA 的定义和步骤 制动系统的 FMEA 实践 FTA（故障树分析）：\nFTA 的定义和步骤 FTA 的符号 制动系统的 FTA 实践 STPA（系统理论过程分析）：\nSTPA 的定义和步骤 不安全控制行为（UCAs） 制动系统的 STPA 实践 安全分析：\n安全分析的分类 定性分析和定量分析 ASIL D 系统的安全分析实践 ASIL 导向分析的差异：\nASIL A/B/C/D 的分析要求 不同 ASIL 等级的分析深度 实战案例：\nAEB 系统 ASIL D 分析完整实践 核心要点：\nASIL 等级越高，要求的分析越深入、越全面 FMEA 是自底向上的分析，FTA 是自顶向下的分析，STPA 是基于系统理论的分析 分析必须深入，不能停留在表面 改进措施必须落实，不能只分析不改进 定期回顾和更新分析，保持分析的有效性 在下一篇文章中，我们将深入解读 ISO 26262-10 指南部分，学习如何应用 ISO 26262 标准的具体指南。\n延伸阅读 ISO 26262-1: 词汇 ISO 26262-2: 功能安全管理 ISO 26262-3: 概念阶段 ISO 26262-10: 指南 ISO 26262 整体综述 ","wordCount":"1426","inLanguage":"en","image":"https://s-ai-unix.github.io/images/covers/iso26262-9-asil.jpg","datePublished":"2026-01-05T00:00:00Z","dateModified":"2026-01-05T00:00:00Z","author":{"@type":"Person","name":"s-ai-unix"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://s-ai-unix.github.io/posts/2026-01-05-iso26262-9-asil/"},"publisher":{"@type":"Organization","name":"s-ai-unix's Blog","logo":{"@type":"ImageObject","url":"https://s-ai-unix.github.io/favicon.ico"}}}</script><link rel=stylesheet href=https://s-ai-unix.github.io/css/classical-quote.css></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://s-ai-unix.github.io/ accesskey=h title="s-ai-unix's Blog (Alt + H)">s-ai-unix's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://s-ai-unix.github.io/ title="🏠 首页"><span>🏠 首页</span></a></li><li><a href=https://s-ai-unix.github.io/posts/ title="📚 文章"><span>📚 文章</span></a></li><li><a href=https://s-ai-unix.github.io/archives/ title="📁 归档"><span>📁 归档</span></a></li><li><a href=https://s-ai-unix.github.io/tags/ title="🏷️ 标签"><span>🏷️ 标签</span></a></li><li><a href=https://s-ai-unix.github.io/search/ title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li><li><a href=https://s-ai-unix.github.io/about/ title="👤 关于"><span>👤 关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://s-ai-unix.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://s-ai-unix.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">ISO 26262-9 ASIL导向的分析：深入系统安全</h1><div class=post-description>深入解读 ISO 26262-9 ASIL导向的分析方法，学习如何针对不同 ASIL 等级进行深入的安全性分析。</div><div class=post-meta><span title='2026-01-05 00:00:00 +0000 UTC'>January 5, 2026</span>&nbsp;·&nbsp;<span>7 min</span>&nbsp;·&nbsp;<span>1426 words</span>&nbsp;·&nbsp;<span>s-ai-unix</span></div></header><figure class=entry-cover><a href=https://s-ai-unix.github.io/images/covers/iso26262-9-asil.jpg target=_blank rel="noopener noreferrer"><img loading=eager src=https://s-ai-unix.github.io/images/covers/iso26262-9-asil.jpg alt="ISO 26262 ASIL导向的分析"></a><figcaption>深入系统安全分析</figcaption></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%bc%95%e8%a8%80 aria-label=引言>引言</a></li><li><a href=#asil-%e5%af%bc%e5%90%91%e5%88%86%e6%9e%90%e7%9a%84%e7%9b%ae%e6%a0%87%e5%92%8c%e8%8c%83%e5%9b%b4 aria-label="ASIL 导向分析的目标和范围">ASIL 导向分析的目标和范围</a><ul><li><a href=#asil-%e5%af%bc%e5%90%91%e5%88%86%e6%9e%90%e7%9a%84%e6%a0%b8%e5%bf%83%e6%b4%bb%e5%8a%a8 aria-label="ASIL 导向分析的核心活动">ASIL 导向分析的核心活动</a></li><li><a href=#asil-%e5%af%bc%e5%90%91%e5%88%86%e6%9e%90%e7%9a%84%e8%be%93%e5%85%a5%e5%92%8c%e8%be%93%e5%87%ba aria-label="ASIL 导向分析的输入和输出">ASIL 导向分析的输入和输出</a><ul><li><a href=#%e8%be%93%e5%85%a5 aria-label=输入>输入</a></li><li><a href=#%e8%be%93%e5%87%ba aria-label=输出>输出</a></li></ul></li></ul></li><li><a href=#fmea%e5%a4%b1%e6%95%88%e6%a8%a1%e5%bc%8f%e4%b8%8e%e5%bd%b1%e5%93%8d%e5%88%86%e6%9e%90 aria-label=FMEA（失效模式与影响分析）>FMEA（失效模式与影响分析）</a><ul><li><a href=#fmea-%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label="FMEA 的定义">FMEA 的定义</a></li><li><a href=#fmea-%e7%9a%84%e7%b1%bb%e5%9e%8b aria-label="FMEA 的类型">FMEA 的类型</a></li><li><a href=#fmea-%e7%9a%84%e6%ad%a5%e9%aa%a4 aria-label="FMEA 的步骤">FMEA 的步骤</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e7%b3%bb%e7%bb%9f%e5%88%86%e8%a7%a3 aria-label=第一步：系统分解>第一步：系统分解</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e8%af%86%e5%88%ab%e5%a4%b1%e6%95%88%e6%a8%a1%e5%bc%8f aria-label=第二步：识别失效模式>第二步：识别失效模式</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e5%88%86%e6%9e%90%e5%a4%b1%e6%95%88%e5%bd%b1%e5%93%8d aria-label=第三步：分析失效影响>第三步：分析失效影响</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e8%af%84%e4%bc%b0%e5%a4%b1%e6%95%88%e4%b8%a5%e9%87%8d%e6%80%a7s aria-label=第四步：评估失效严重性（S）>第四步：评估失效严重性（S）</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e6%ad%a5%e8%af%84%e4%bc%b0%e5%a4%b1%e6%95%88%e9%a2%91%e5%ba%a6o aria-label=第五步：评估失效频度（O）>第五步：评估失效频度（O）</a></li><li><a href=#%e7%ac%ac%e5%85%ad%e6%ad%a5%e8%af%84%e4%bc%b0%e5%a4%b1%e6%95%88%e6%a3%80%e6%b5%8b%e5%ba%a6d aria-label=第六步：评估失效检测度（D）>第六步：评估失效检测度（D）</a></li><li><a href=#%e7%ac%ac%e4%b8%83%e6%ad%a5%e8%ae%a1%e7%ae%97-rpn%e9%a3%8e%e9%99%a9%e4%bc%98%e5%85%88%e6%95%b0 aria-label="第七步：计算 RPN（风险优先数）">第七步：计算 RPN（风险优先数）</a></li><li><a href=#%e7%ac%ac%e5%85%ab%e6%ad%a5%e5%88%b6%e5%ae%9a%e6%94%b9%e8%bf%9b%e6%8e%aa%e6%96%bd aria-label=第八步：制定改进措施>第八步：制定改进措施</a></li></ul></li><li><a href=#%e6%a1%88%e4%be%8b%e5%88%b6%e5%8a%a8%e7%b3%bb%e7%bb%9f%e7%9a%84-fmea aria-label="案例：制动系统的 FMEA">案例：制动系统的 FMEA</a></li></ul></li><li><a href=#fta%e6%95%85%e9%9a%9c%e6%a0%91%e5%88%86%e6%9e%90 aria-label=FTA（故障树分析）>FTA（故障树分析）</a><ul><li><a href=#fta-%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label="FTA 的定义">FTA 的定义</a></li><li><a href=#fta-%e7%9a%84%e6%ad%a5%e9%aa%a4 aria-label="FTA 的步骤">FTA 的步骤</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e5%ae%9a%e4%b9%89%e9%a1%b6%e5%b1%82%e4%ba%8b%e4%bb%b6 aria-label=第一步：定义顶层事件>第一步：定义顶层事件</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e6%9e%84%e5%bb%ba%e6%95%85%e9%9a%9c%e6%a0%91 aria-label=第二步：构建故障树>第二步：构建故障树</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e5%88%86%e6%9e%90%e6%9c%80%e5%b0%8f%e5%89%b2%e9%9b%86 aria-label=第三步：分析最小割集>第三步：分析最小割集</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%ae%9a%e6%80%a7%e5%88%86%e6%9e%90 aria-label=第四步：定性分析>第四步：定性分析</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e6%ad%a5%e5%ae%9a%e9%87%8f%e5%88%86%e6%9e%90 aria-label=第五步：定量分析>第五步：定量分析</a></li></ul></li><li><a href=#fta-%e7%9a%84%e7%ac%a6%e5%8f%b7 aria-label="FTA 的符号">FTA 的符号</a></li><li><a href=#%e6%a1%88%e4%be%8b%e5%88%b6%e5%8a%a8%e7%b3%bb%e7%bb%9f%e7%9a%84-fta aria-label="案例：制动系统的 FTA">案例：制动系统的 FTA</a></li></ul></li><li><a href=#stpa%e7%b3%bb%e7%bb%9f%e7%90%86%e8%ae%ba%e8%bf%87%e7%a8%8b%e5%88%86%e6%9e%90 aria-label=STPA（系统理论过程分析）>STPA（系统理论过程分析）</a><ul><li><a href=#stpa-%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label="STPA 的定义">STPA 的定义</a></li><li><a href=#stpa-%e7%9a%84%e6%ad%a5%e9%aa%a4 aria-label="STPA 的步骤">STPA 的步骤</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e6%ad%a5%e8%af%86%e5%88%ab%e7%b3%bb%e7%bb%9f%e5%8d%b1%e9%99%a9 aria-label=第一步：识别系统危险>第一步：识别系统危险</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5%e6%9e%84%e5%bb%ba%e6%8e%a7%e5%88%b6%e7%bb%93%e6%9e%84 aria-label=第二步：构建控制结构>第二步：构建控制结构</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e6%ad%a5%e8%af%86%e5%88%ab%e4%b8%8d%e5%ae%89%e5%85%a8%e6%8e%a7%e5%88%b6%e8%a1%8c%e4%b8%baucas aria-label=第三步：识别不安全控制行为（UCAs）>第三步：识别不安全控制行为（UCAs）</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%88%86%e6%9e%90%e5%af%bc%e8%87%b4-ucas-%e7%9a%84%e5%8e%9f%e5%9b%a0 aria-label="第四步：分析导致 UCAs 的原因">第四步：分析导致 UCAs 的原因</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e6%ad%a5%e5%88%b6%e5%ae%9a%e5%ae%89%e5%85%a8%e7%ba%a6%e6%9d%9f%e5%92%8c%e7%bc%93%e8%a7%a3%e6%8e%aa%e6%96%bd aria-label=第五步：制定安全约束和缓解措施>第五步：制定安全约束和缓解措施</a></li></ul></li><li><a href=#%e6%a1%88%e4%be%8b%e5%88%b6%e5%8a%a8%e7%b3%bb%e7%bb%9f%e7%9a%84-stpa aria-label="案例：制动系统的 STPA">案例：制动系统的 STPA</a></li></ul></li><li><a href=#%e5%ae%89%e5%85%a8%e5%88%86%e6%9e%90safety-analysis aria-label="安全分析（Safety Analysis）">安全分析（Safety Analysis）</a><ul><li><a href=#%e5%ae%89%e5%85%a8%e5%88%86%e6%9e%90%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label=安全分析的定义>安全分析的定义</a></li><li><a href=#%e5%ae%89%e5%85%a8%e5%88%86%e6%9e%90%e7%9a%84%e6%96%b9%e6%b3%95 aria-label=安全分析的方法>安全分析的方法</a></li><li><a href=#%e6%a1%88%e4%be%8basil-d-%e7%b3%bb%e7%bb%9f%e7%9a%84%e5%ae%89%e5%85%a8%e5%88%86%e6%9e%90 aria-label="案例：ASIL D 系统的安全分析">案例：ASIL D 系统的安全分析</a></li></ul></li><li><a href=#asil-%e5%af%bc%e5%90%91%e5%88%86%e6%9e%90%e7%9a%84%e5%b7%ae%e5%bc%82 aria-label="ASIL 导向分析的差异">ASIL 导向分析的差异</a><ul><li><a href=#asil-a-%e5%88%86%e6%9e%90 aria-label="ASIL A 分析">ASIL A 分析</a></li><li><a href=#asil-b-%e5%88%86%e6%9e%90 aria-label="ASIL B 分析">ASIL B 分析</a></li><li><a href=#asil-c-%e5%88%86%e6%9e%90 aria-label="ASIL C 分析">ASIL C 分析</a></li><li><a href=#asil-d-%e5%88%86%e6%9e%90 aria-label="ASIL D 分析">ASIL D 分析</a></li></ul></li><li><a href=#%e5%ae%9e%e6%88%98%e6%a1%88%e4%be%8baeb-%e7%b3%bb%e7%bb%9f%e7%9a%84-asil-d-%e5%88%86%e6%9e%90 aria-label="实战案例：AEB 系统的 ASIL D 分析">实战案例：AEB 系统的 ASIL D 分析</a><ul><li><a href=#%e9%a1%b9%e7%9b%ae%e8%83%8c%e6%99%af aria-label=项目背景>项目背景</a></li><li><a href=#%e7%ac%ac%e4%b8%80%e6%ad%a5fmea-%e5%88%86%e6%9e%90 aria-label="第一步：FMEA 分析">第一步：FMEA 分析</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e6%ad%a5fta-%e5%88%86%e6%9e%90 aria-label="第二步：FTA 分析">第二步：FTA 分析</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e6%ad%a5stpa-%e5%88%86%e6%9e%90 aria-label="第三步：STPA 分析">第三步：STPA 分析</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e6%ad%a5%e5%ae%9a%e9%87%8f%e5%88%86%e6%9e%90 aria-label=第四步：定量分析>第四步：定量分析</a></li></ul></li><li><a href=#%e5%b8%b8%e8%a7%81%e9%94%99%e8%af%af%e5%92%8c%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5 aria-label=常见错误和最佳实践>常见错误和最佳实践</a><ul><li><a href=#%e5%b8%b8%e8%a7%81%e9%94%99%e8%af%af aria-label=常见错误>常见错误</a></li><li><a href=#%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5 aria-label=最佳实践>最佳实践</a></li></ul></li><li><a href=#%e6%80%bb%e7%bb%93 aria-label=总结>总结</a></li><li><a href=#%e5%bb%b6%e4%bc%b8%e9%98%85%e8%af%bb aria-label=延伸阅读>延伸阅读</a></li></ul></div></details></div><div class=post-content><h2 id=引言>引言<a hidden class=anchor aria-hidden=true href=#引言>#</a></h2><p>在汽车功能安全的实施过程中，不同 ASIL 等级要求不同深度和严格程度的分析方法。ISO 26262-9 专门针对 ASIL A、B、C、D 定义了相应的分析方法要求。</p><p>想象一个真实场景：某汽车厂商的制动系统，虽然通过了 ASIL B 的 FMEA 分析，但系统仍然发生了严重的安全事故。事后调查发现，原因是 FMEA 分析不够深入，没有考虑某些极端的故障组合场景。</p><p>这个案例告诉我们：**ASIL 等级越高，要求的分析越深入、越全面。**这正是 ISO 26262-9 ASIL 导向的分析方法的核心使命。</p><h2 id=asil-导向分析的目标和范围>ASIL 导向分析的目标和范围<a hidden class=anchor aria-hidden=true href=#asil-导向分析的目标和范围>#</a></h2><h3 id=asil-导向分析的核心活动>ASIL 导向分析的核心活动<a hidden class=anchor aria-hidden=true href=#asil-导向分析的核心活动>#</a></h3><p>ISO 26262-9 定义了针对不同 ASIL 等级的分析要求：</p><div class=mermaid-wrapper style="background:#fff;padding:2rem 1rem;margin:2rem 0;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,8%)"><div class=mermaid>graph LR
subgraph ASIL等级与分析方法对应关系
ASILA[ASIL A<br>低安全要求] --> FMEA1[FMEA<br>失效模式分析]
ASILB[ASIL B<br>中低安全要求] --> FMEA2[FMEA]
ASILB --> FTA1[FTA<br>故障树分析]
ASILC[ASIL C<br>中高安全要求] --> FMEA3[FMEA]
ASILC --> FTA2[FTA]
ASILC --> STPA1[STPA<br>系统理论分析]
ASILD[ASIL D<br>最高安全要求] --> FMEA4[FMEA]
ASILD --> FTA3[FTA]
ASILD --> STPA2[STPA]
ASILD --> SA[安全分析<br>Safety Analysis]
end
style ASILA fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff
style ASILB fill:#30D158,stroke:#34C759,stroke-width:2px,color:#ffffff
style ASILC fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff
style ASILD fill:#FF3B30,stroke:#FF3B30,stroke-width:3px,color:#ffffff
style FMEA1 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style FMEA2 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style FMEA3 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style FMEA4 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style FTA1 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style FTA2 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style FTA3 fill:#5AC8FA,stroke:#007AFF,stroke-width:1px
style STPA1 fill:#AF52DE,stroke:#AF52DE,stroke-width:1px
style STPA2 fill:#AF52DE,stroke:#AF52DE,stroke-width:1px
style SA fill:#FF9500,stroke:#FF9500,stroke-width:2px</div></div><ol><li><p><strong>ASIL A 分析</strong></p><ul><li>FMEA（失效模式与影响分析）</li><li>基本的安全性分析</li></ul></li><li><p><strong>ASIL B 分析</strong></p><ul><li>FMEA</li><li>FTA（故障树分析）</li><li>基本的安全性分析</li></ul></li><li><p><strong>ASIL C 分析</strong></p><ul><li>FMEA</li><li>FTA</li><li>STPA（系统理论过程分析）</li><li>深入的安全性分析</li></ul></li><li><p><strong>ASIL D 分析</strong></p><ul><li>FMEA</li><li>FTA</li><li>STPA</li><li>安全分析（Safety Analysis）</li><li>非常深入的安全性分析</li></ul></li></ol><h3 id=asil-导向分析的输入和输出>ASIL 导向分析的输入和输出<a hidden class=anchor aria-hidden=true href=#asil-导向分析的输入和输出>#</a></h3><h4 id=输入>输入<a hidden class=anchor aria-hidden=true href=#输入>#</a></h4><ul><li><strong>系统架构设计</strong>：来自系统级开发</li><li><strong>硬件架构设计</strong>：来自硬件级开发</li><li><strong>软件架构设计</strong>：来自软件级开发</li><li><strong>安全目标</strong>：来自概念阶段</li><li><strong>功能安全需求</strong>：来自概念阶段</li></ul><h4 id=输出>输出<a hidden class=anchor aria-hidden=true href=#输出>#</a></h4><ul><li><strong>FMEA 报告</strong>：失效模式与影响分析报告</li><li><strong>FTA 报告</strong>：故障树分析报告</li><li><strong>STPA 报告</strong>：系统理论过程分析报告</li><li><strong>安全分析报告</strong>：深入的安全性分析报告</li></ul><h2 id=fmea失效模式与影响分析>FMEA（失效模式与影响分析）<a hidden class=anchor aria-hidden=true href=#fmea失效模式与影响分析>#</a></h2><h3 id=fmea-的定义>FMEA 的定义<a hidden class=anchor aria-hidden=true href=#fmea-的定义>#</a></h3><p><strong>FMEA（Failure Mode and Effects Analysis）</strong> 是一种自底向上的分析方法，用于识别系统组件的潜在失效模式及其影响。</p><h3 id=fmea-的类型>FMEA 的类型<a hidden class=anchor aria-hidden=true href=#fmea-的类型>#</a></h3><ol><li><strong>DFMEA（Design FMEA）</strong>：设计 FMEA，用于分析设计阶段的失效</li><li><strong>PFMEA（Process FMEA）</strong>：过程 FMEA，用于分析生产过程的失效</li><li><strong>SFMEA（System FMEA）</strong>：系统 FMEA，用于分析系统级的失效</li></ol><h3 id=fmea-的步骤>FMEA 的步骤<a hidden class=anchor aria-hidden=true href=#fmea-的步骤>#</a></h3><h4 id=第一步系统分解>第一步：系统分解<a hidden class=anchor aria-hidden=true href=#第一步系统分解>#</a></h4><p>将系统分解为子系统、组件、零件等。</p><h4 id=第二步识别失效模式>第二步：识别失效模式<a hidden class=anchor aria-hidden=true href=#第二步识别失效模式>#</a></h4><p>识别每个组件的潜在失效模式。</p><h4 id=第三步分析失效影响>第三步：分析失效影响<a hidden class=anchor aria-hidden=true href=#第三步分析失效影响>#</a></h4><p>分析每个失效模式的局部影响、系统影响、车辆影响、用户影响。</p><h4 id=第四步评估失效严重性s>第四步：评估失效严重性（S）<a hidden class=anchor aria-hidden=true href=#第四步评估失效严重性s>#</a></h4><p>评估失效的严重性等级（1-10）。</p><h4 id=第五步评估失效频度o>第五步：评估失效频度（O）<a hidden class=anchor aria-hidden=true href=#第五步评估失效频度o>#</a></h4><p>评估失效发生的频度（1-10）。</p><h4 id=第六步评估失效检测度d>第六步：评估失效检测度（D）<a hidden class=anchor aria-hidden=true href=#第六步评估失效检测度d>#</a></h4><p>评估失效的检测能力（1-10）。</p><h4 id=第七步计算-rpn风险优先数>第七步：计算 RPN（风险优先数）<a hidden class=anchor aria-hidden=true href=#第七步计算-rpn风险优先数>#</a></h4><p>$$ \text{RPN} = S \times O \times D $$</p><h4 id=第八步制定改进措施>第八步：制定改进措施<a hidden class=anchor aria-hidden=true href=#第八步制定改进措施>#</a></h4><p>针对高 RPN 的失效模式制定改进措施。</p><h3 id=案例制动系统的-fmea>案例：制动系统的 FMEA<a hidden class=anchor aria-hidden=true href=#案例制动系统的-fmea>#</a></h3><p><strong>FMEA 表格</strong>：</p><table><thead><tr><th>组件</th><th>失效模式</th><th>失效原因</th><th>局部影响</th><th>系统影响</th><th>车辆影响</th><th>用户影响</th><th>S</th><th>O</th><th>D</th><th>RPN</th></tr></thead><tbody><tr><td>压力传感器</td><td>开路</td><td>焊接不良</td><td>无信号</td><td>制动失效</td><td>停车困难</td><td>难以停车</td><td>9</td><td>4</td><td>5</td><td>180</td></tr><tr><td>压力传感器</td><td>短路</td><td>寄生电容</td><td>信号错误</td><td>制动误动作</td><td>意外制动</td><td>惊吓</td><td>7</td><td>3</td><td>4</td><td>84</td></tr><tr><td>压力传感器</td><td>漂移</td><td>温度变化</td><td>测量误差</td><td>制动不精确</td><td>制动不均匀</td><td>制动效果差</td><td>5</td><td>6</td><td>6</td><td>180</td></tr><tr><td>阀门</td><td>卡死</td><td>污染</td><td>无动作</td><td>制动失效</td><td>停车困难</td><td>难以停车</td><td>9</td><td>2</td><td>4</td><td>72</td></tr><tr><td>阀门</td><td>响应慢</td><td>润滑不良</td><td>动作延迟</td><td>制动延迟</td><td>停车距离增加</td><td>停车困难</td><td>7</td><td>4</td><td>5</td><td>140</td></tr><tr><td>MCU</td><td>CPU 挂死</td><td>软件缺陷</td><td>无响应</td><td>系统失效</td><td>无助力</td><td>转向困难</td><td>8</td><td>3</td><td>4</td><td>96</td></tr><tr><td>MCU</td><td>Flash 坏块</td><td>老化</td><td>数据损坏</td><td>控制错误</td><td>制动错误</td><td>制动效果差</td><td>6</td><td>2</td><td>3</td><td>36</td></tr></tbody></table><p><strong>改进措施</strong>：</p><p>针对 RPN ≥ 100 的失效模式制定改进措施：</p><table><thead><tr><th>失效模式</th><th>改进措施</th><th>责任人</th><th>状态</th></tr></thead><tbody><tr><td>压力传感器开路</td><td>添加冗余传感器</td><td>硬件设计师</td><td>已实施</td></tr><tr><td>压力传感器漂移</td><td>添加温度补偿算法</td><td>软件设计师</td><td>已实施</td></tr><tr><td>阀门响应慢</td><td>改进阀门设计</td><td>机械设计师</td><td>计划中</td></tr><tr><td>MCU CPU 挂死</td><td>添加看门狗</td><td>硬件设计师</td><td>已实施</td></tr></tbody></table><h2 id=fta故障树分析>FTA（故障树分析）<a hidden class=anchor aria-hidden=true href=#fta故障树分析>#</a></h2><h3 id=fta-的定义>FTA 的定义<a hidden class=anchor aria-hidden=true href=#fta-的定义>#</a></h3><p><strong>FTA（Fault Tree Analysis）</strong> 是一种自顶向下的分析方法，用于分析系统失效的原因。</p><h3 id=fta-的步骤>FTA 的步骤<a hidden class=anchor aria-hidden=true href=#fta-的步骤>#</a></h3><h4 id=第一步定义顶层事件>第一步：定义顶层事件<a hidden class=anchor aria-hidden=true href=#第一步定义顶层事件>#</a></h4><p>定义要分析的顶层事件（通常是危险事件）。</p><h4 id=第二步构建故障树>第二步：构建故障树<a hidden class=anchor aria-hidden=true href=#第二步构建故障树>#</a></h4><p>使用逻辑门（与门、或门）构建故障树。</p><h4 id=第三步分析最小割集>第三步：分析最小割集<a hidden class=anchor aria-hidden=true href=#第三步分析最小割集>#</a></h4><p>识别导致顶层事件发生的最小失效组合。</p><h4 id=第四步定性分析>第四步：定性分析<a hidden class=anchor aria-hidden=true href=#第四步定性分析>#</a></h4><p>分析失效模式的重要性和影响。</p><h4 id=第五步定量分析>第五步：定量分析<a hidden class=anchor aria-hidden=true href=#第五步定量分析>#</a></h4><p>计算顶层事件的发生概率。</p><h3 id=fta-的符号>FTA 的符号<a hidden class=anchor aria-hidden=true href=#fta-的符号>#</a></h3><table><thead><tr><th>符号</th><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>○</td><td>基本事件</td><td>不可再分的失效事件</td></tr><tr><td>◇</td><td>中间事件</td><td>逻辑门的输出事件</td></tr><tr><td>□</td><td>顶层事件</td><td>要分析的顶层失效事件</td></tr><tr><td>◇1</td><td>与门（AND）</td><td>所有输入都发生，输出才发生</td></tr><tr><td>◇0</td><td>或门（OR）</td><td>任意输入发生，输出就发生</td></tr><tr><td>○∘</td><td>转移符号</td><td>连接到其他故障树</td></tr></tbody></table><h3 id=案例制动系统的-fta>案例：制动系统的 FTA<a hidden class=anchor aria-hidden=true href=#案例制动系统的-fta>#</a></h3><p><strong>顶层事件</strong>：制动失效导致无法停车</p><p><strong>故障树</strong>：</p><div class=mermaid-wrapper style="background:#fff;padding:2rem 1rem;margin:2rem 0;border-radius:8px;box-shadow:0 2px 12px rgba(0,0,0,8%)"><div class=mermaid>graph TB
Top[制动失效<br>顶层事件] --> OR{{或门}}
OR --> Hydraulic[液压失效]
OR --> Electronic[电子失效]
Hydraulic --> OR2{{或门}}
OR2 --> Master[主缸失效<br>基本事件]
OR2 --> Pipe[管路泄漏<br>基本事件]
Electronic --> CPU[CPU故障<br>基本事件]
style Top fill:#FF3B30,stroke:#FF3B30,stroke-width:3px,color:#ffffff
style OR fill:#FF9500,stroke:#FF9500,stroke-width:2px,color:#ffffff
style OR2 fill:#FFCC00,stroke:#FF9500,stroke-width:2px,color:#ffffff
style Hydraulic fill:#5AC8FA,stroke:#007AFF,stroke-width:2px,color:#ffffff
style Electronic fill:#5AC8FA,stroke:#007AFF,stroke-width:2px,color:#ffffff
style Master fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff
style Pipe fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff
style CPU fill:#34C759,stroke:#34C759,stroke-width:2px,color:#ffffff</div></div><p><strong>逻辑表达式</strong>：</p><p>$$ \text{制动失效} = \text{主缸失效} + \text{管路泄漏} + \text{CPU 故障} $$</p><p><strong>最小割集</strong>：</p><ol><li>{主缸失效}</li><li>{管路泄漏}</li><li>{CPU 故障}</li></ol><p><strong>定量分析</strong>：</p><p>假设：</p><ul><li>主缸失效概率：$10^{-6}$</li><li>管路泄漏概率：$10^{-5}$</li><li>CPU 故障概率：$10^{-4}$</li></ul><p>制动失效概率（简化模型，假设失效相互独立）：
$$ P(\text{制动失效}) = P(\text{主缸失效}) + P(\text{管路泄漏}) + P(\text{CPU 故障}) $$
$$ P(\text{制动失效}) = 10^{-6} + 10^{-5} + 10^{-4} = 1.11 \times 10^{-4} $$</p><p><strong>改进措施</strong>：</p><table><thead><tr><th>失效模式</th><th>改进措施</th><th>责任人</th><th>状态</th></tr></thead><tbody><tr><td>主缸失效</td><td>改进主缸设计</td><td>机械设计师</td><td>已实施</td></tr><tr><td>管路泄漏</td><td>改进管路连接</td><td>机械设计师</td><td>已实施</td></tr><tr><td>CPU 故障</td><td>添加冗余 MCU</td><td>硬件设计师</td><td>已实施</td></tr></tbody></table><h2 id=stpa系统理论过程分析>STPA（系统理论过程分析）<a hidden class=anchor aria-hidden=true href=#stpa系统理论过程分析>#</a></h2><h3 id=stpa-的定义>STPA 的定义<a hidden class=anchor aria-hidden=true href=#stpa-的定义>#</a></h3><p><strong>STPA（System-Theoretic Process Analysis）</strong> 是一种基于系统理论的安全分析方法，用于分析系统中的潜在危险状态和导致这些状态的因果因素。</p><h3 id=stpa-的步骤>STPA 的步骤<a hidden class=anchor aria-hidden=true href=#stpa-的步骤>#</a></h3><h4 id=第一步识别系统危险>第一步：识别系统危险<a hidden class=anchor aria-hidden=true href=#第一步识别系统危险>#</a></h4><p>识别系统中的所有潜在危险。</p><h4 id=第二步构建控制结构>第二步：构建控制结构<a hidden class=anchor aria-hidden=true href=#第二步构建控制结构>#</a></h4><p>构建系统的控制结构，识别控制器、执行器、传感器、受控过程。</p><h4 id=第三步识别不安全控制行为ucas>第三步：识别不安全控制行为（UCAs）<a hidden class=anchor aria-hidden=true href=#第三步识别不安全控制行为ucas>#</a></h4><p>识别所有可能导致系统进入危险状态的控制行为。</p><h4 id=第四步分析导致-ucas-的原因>第四步：分析导致 UCAs 的原因<a hidden class=anchor aria-hidden=true href=#第四步分析导致-ucas-的原因>#</a></h4><p>分析导致不安全控制行为的原因。</p><h4 id=第五步制定安全约束和缓解措施>第五步：制定安全约束和缓解措施<a hidden class=anchor aria-hidden=true href=#第五步制定安全约束和缓解措施>#</a></h4><p>制定防止 UCAs 发生的安全约束和缓解措施。</p><h3 id=案例制动系统的-stpa>案例：制动系统的 STPA<a hidden class=anchor aria-hidden=true href=#案例制动系统的-stpa>#</a></h3><p><strong>系统危险</strong>：</p><ol><li>制动助力突然丧失</li><li>制动力突然增加（误制动）</li><li>制动力不足</li></ol><p><strong>控制结构</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>          驾驶员
</span></span><span class=line><span class=cl>             │
</span></span><span class=line><span class=cl>    ┌────────┴────────┐
</span></span><span class=line><span class=cl>    │   制动控制器    │
</span></span><span class=line><span class=cl>    │                 │
</span></span><span class=line><span class=cl>  传感器           执行器
</span></span><span class=line><span class=cl>    │                 │
</span></span><span class=line><span class=cl>  制动踏板         阀门
</span></span><span class=line><span class=cl>    │                 │
</span></span><span class=line><span class=cl>  车辆状态         液压系统
</span></span></code></pre></div><p><strong>不安全控制行为（UCAs）</strong>：</p><ol><li><p><strong>提供不正确的制动力</strong></p><ul><li>驾驶员需要制动，系统提供 insufficient 制动力</li><li>驾驶员不需要制动，系统提供 excessive 制动力</li></ul></li><li><p><strong>在错误的时间提供制动力</strong></p><ul><li>在驾驶员未请求时施加制动力</li><li>在驾驶员请求时延迟提供制动力</li></ul></li><li><p><strong>制动力持续时间过长或过短</strong></p><ul><li>制动力持续时间过长，导致车辆失控</li><li>制动力持续时间过短，制动效果不足</li></ul></li></ol><p><strong>导致 UCAs 的原因</strong>：</p><table><thead><tr><th>UCA</th><th>原因类型</th><th>具体原因</th></tr></thead><tbody><tr><td>提供不正确的制动力</td><td>传感器故障</td><td>压力传感器开路/短路</td></tr><tr><td>提供不正确的制动力</td><td>执行器故障</td><td>阀门卡死/泄漏</td></tr><tr><td>提供不正确的制动力</td><td>控制器故障</td><td>CPU 挂死/计算错误</td></tr><tr><td>在错误的时间提供制动力</td><td>通信故障</td><td>CAN 总线延迟/中断</td></tr><tr><td>在错误的时间提供制动力</td><td>软件缺陷</td><td>时序错误</td></tr></tbody></table><p><strong>安全约束和缓解措施</strong>：</p><table><thead><tr><th>UCA</th><th>安全约束</th><th>缓解措施</th></tr></thead><tbody><tr><td>提供不正确的制动力</td><td>系统应准确测量制动踏板位置</td><td>添加冗余传感器</td></tr><tr><td>提供不正确的制动力</td><td>系统应准确控制阀门</td><td>添加阀门位置反馈</td></tr><tr><td>在错误的时间提供制动力</td><td>系统应实时响应制动请求</td><td>优化软件时序</td></tr><tr><td>在错误的时间提供制动力</td><td>系统应可靠通信</td><td>使用双 CAN 冗余</td></tr></tbody></table><h2 id=安全分析safety-analysis>安全分析（Safety Analysis）<a hidden class=anchor aria-hidden=true href=#安全分析safety-analysis>#</a></h2><h3 id=安全分析的定义>安全分析的定义<a hidden class=anchor aria-hidden=true href=#安全分析的定义>#</a></h3><p><strong>安全分析</strong> 是针对 ASIL D 等级的深入分析方法，包括：</p><ol><li><strong>安全分析计划</strong>：制定安全分析计划</li><li><strong>安全分析执行</strong>：执行安全分析</li><li><strong>安全分析报告</strong>：编写安全分析报告</li></ol><h3 id=安全分析的方法>安全分析的方法<a hidden class=anchor aria-hidden=true href=#安全分析的方法>#</a></h3><ol><li><strong>定性分析</strong>：分析失效模式、影响、原因</li><li><strong>定量分析</strong>：计算失效概率、可靠性指标</li><li><strong>确定性分析</strong>：分析系统的确定性行为</li><li><strong>随机性分析</strong>：分析系统的随机性行为</li></ol><h3 id=案例asil-d-系统的安全分析>案例：ASIL D 系统的安全分析<a hidden class=anchor aria-hidden=true href=#案例asil-d-系统的安全分析>#</a></h3><p><strong>系统</strong>：电子驻车制动系统（EPB）</p><p><strong>安全分析计划</strong>：</p><table><thead><tr><th>分析类型</th><th>分析方法</th><th>分析对象</th><th>责任人</th><th>计划时间</th></tr></thead><tbody><tr><td>定性分析</td><td>FMEA</td><td>所有硬件组件</td><td>硬件设计师</td><td>2025-02-15</td></tr><tr><td>定性分析</td><td>FTA</td><td>系统失效</td><td>系统架构师</td><td>2025-02-20</td></tr><tr><td>定量分析</td><td>可靠性分析</td><td>系统</td><td>可靠性工程师</td><td>2025-02-25</td></tr><tr><td>确定性分析</td><td>STPA</td><td>控制系统</td><td>软件设计师</td><td>2025-02-28</td></tr><tr><td>随机性分析</td><td>蒙特卡洛仿真</td><td>系统</td><td>仿真工程师</td><td>2025-03-05</td></tr></tbody></table><p><strong>定量分析</strong>：</p><p>假设 EPB 系统由以下组件组成：</p><table><thead><tr><th>组件</th><th>FIT 率</th><th>冗余度</th></tr></thead><tbody><tr><td>MCU1</td><td>50</td><td>无</td></tr><tr><td>MCU2</td><td>50</td><td>有</td></tr><tr><td>电机驱动器</td><td>30</td><td>有</td></tr><tr><td>角度传感器</td><td>20</td><td>有</td></tr><tr><td>阀门</td><td>10</td><td>有</td></tr></tbody></table><p><strong>系统 FIT 率计算</strong>：</p><p>对于三模冗余的 MCU 系统：</p><p>假设单个 MCU 的可靠度为 $R = 0.9999$（在任务时间内）。</p><p>系统可靠度：
$$ R_{\text{system}} = R^3 + 3 \times R^2 \times (1-R) $$
$$ R_{\text{system}} = 0.99999997 $$</p><p><strong>失效概率</strong>：
$$ P(\text{失效}) = 1 - R_{\text{system}} = 1 - 0.99999997 = 3 \times 10^{-8} $$</p><p>转换为 FIT 率：
$$ \text{FIT} = \frac{P(\text{失效})}{\text{任务时间}} \times 10^9 $$
$$ \text{FIT} = \frac{3 \times 10^{-8}}{1 \text{ 小时}} \times 10^9 = 0.03 \text{ FIT} $$</p><p><strong>结论</strong>：</p><ul><li>通过三模冗余，系统的 FIT 率从 50 降低到 0.03</li><li>满足 ASIL D 的要求</li></ul><h2 id=asil-导向分析的差异>ASIL 导向分析的差异<a hidden class=anchor aria-hidden=true href=#asil-导向分析的差异>#</a></h2><h3 id=asil-a-分析>ASIL A 分析<a hidden class=anchor aria-hidden=true href=#asil-a-分析>#</a></h3><p><strong>要求</strong>：</p><ul><li>基本的 FMEA</li><li>基本的安全性分析</li></ul><p><strong>特点</strong>：</p><ul><li>分析深度较浅</li><li>分析范围较窄</li><li>重点识别主要失效模式</li></ul><p><strong>示例</strong>：</p><ul><li>简单的 FMEA 表格</li><li>识别主要失效模式</li><li>制定基本改进措施</li></ul><h3 id=asil-b-分析>ASIL B 分析<a hidden class=anchor aria-hidden=true href=#asil-b-分析>#</a></h3><p><strong>要求</strong>：</p><ul><li>详细的 FMEA</li><li>FTA</li><li>基本的安全性分析</li></ul><p><strong>特点</strong>：</p><ul><li>分析深度中等</li><li>分析范围中等</li><li>重点识别主要失效模式和失效组合</li></ul><p><strong>示例</strong>：</p><ul><li>详细的 FMEA 表格</li><li>构建 FTA 故障树</li><li>识别最小割集</li><li>制定改进措施</li></ul><h3 id=asil-c-分析>ASIL C 分析<a hidden class=anchor aria-hidden=true href=#asil-c-分析>#</a></h3><p><strong>要求</strong>：</p><ul><li>详细的 FMEA</li><li>详细的 FTA</li><li>STPA</li><li>深入的安全性分析</li></ul><p><strong>特点</strong>：</p><ul><li>分析深度较深</li><li>分析范围较广</li><li>重点关注失效组合、控制行为</li></ul><p><strong>示例</strong>：</p><ul><li>详细的 FMEA 表格</li><li>详细的 FTA 故障树</li><li>STPA 分析</li><li>分析导致 UCAs 的原因</li><li>制定详细安全约束</li></ul><h3 id=asil-d-分析>ASIL D 分析<a hidden class=anchor aria-hidden=true href=#asil-d-分析>#</a></h3><p><strong>要求</strong>：</p><ul><li>非常详细的 FMEA</li><li>非常详细的 FTA</li><li>STPA</li><li>安全分析（包括定性、定量、确定性、随机性分析）</li></ul><p><strong>特点</strong>：</p><ul><li>分析深度非常深</li><li>分析范围非常广</li><li>重点关注所有可能的失效模式、失效组合、控制行为、随机性</li></ul><p><strong>示例</strong>：</p><ul><li>非常详细的 FMEA 表格</li><li>非常详细的 FTA 故障树</li><li>STPA 分析</li><li>定量分析（可靠性、失效概率）</li><li>确定性分析（控制行为）</li><li>随机性分析（蒙特卡洛仿真）</li><li>制定全面安全措施</li></ul><h2 id=实战案例aeb-系统的-asil-d-分析>实战案例：AEB 系统的 ASIL D 分析<a hidden class=anchor aria-hidden=true href=#实战案例aeb-系统的-asil-d-分析>#</a></h2><p>让我们以一个实际项目为例，展示 ASIL D 系统的完整分析流程。</p><h3 id=项目背景>项目背景<a hidden class=anchor aria-hidden=true href=#项目背景>#</a></h3><p>某汽车厂商正在开发 AEB 系统，用于在检测到碰撞风险时自动施加制动。ASIL 等级：D。</p><h3 id=第一步fmea-分析>第一步：FMEA 分析<a hidden class=anchor aria-hidden=true href=#第一步fmea-分析>#</a></h3><p><strong>系统组件</strong>：</p><table><thead><tr><th>组件</th><th>失效模式</th><th>失效原因</th><th>局部影响</th><th>系统影响</th><th>车辆影响</th><th>用户影响</th><th>S</th><th>O</th><th>D</th><th>RPN</th></tr></thead><tbody><tr><td>摄像头</td><td>图像模糊</td><td>镜头污染</td><td>识别错误</td><td>判断错误</td><td>未制动</td><td>碰撞风险</td><td>9</td><td>4</td><td>3</td><td>108</td></tr><tr><td>摄像头</td><td>帧率下降</td><td>算法复杂度高</td><td>识别延迟</td><td>制动延迟</td><td>停车距离增加</td><td>碰撞风险</td><td>8</td><td>3</td><td>4</td><td>96</td></tr><tr><td>雷达</td><td>信号丢失</td><td>干扰</td><td>无数据</td><td>判断错误</td><td>未制动</td><td>碰撞风险</td><td>9</td><td>2</td><td>3</td><td>54</td></tr><tr><td>雷达</td><td>距离误差</td><td>温度变化</td><td>测量误差</td><td>判断错误</td><td>制动不精确</td><td>制动效果差</td><td>6</td><td>5</td><td>4</td><td>120</td></tr><tr><td>超声波传感器</td><td>信号丢失</td><td>污染</td><td>无数据</td><td>判断错误</td><td>未制动</td><td>碰撞风险</td><td>7</td><td>3</td><td>3</td><td>63</td></tr><tr><td>雷达</td><td>距离误差</td><td>温度变化</td><td>测量误差</td><td>判断错误</td><td>制动不精确</td><td>制动效果差</td><td>6</td><td>5</td><td>4</td><td>120</td></tr><tr><td>MCU</td><td>CPU 挂死</td><td>软件缺陷</td><td>无响应</td><td>系统失效</td><td>无 AEB</td><td>碰撞风险</td><td>9</td><td>2</td><td>3</td><td>54</td></tr><tr><td>MCU</td><td>算法错误</td><td>软件缺陷</td><td>计算错误</td><td>判断错误</td><td>误制动/未制动</td><td>碰撞风险/误制动</td><td>9</td><td>2</td><td>4</td><td>72</td></tr></tbody></table><p><strong>改进措施</strong>：</p><p>针对 RPN ≥ 100 的失效模式制定改进措施：</p><table><thead><tr><th>失效模式</th><th>改进措施</th><th>责任人</th><th>状态</th></tr></thead><tbody><tr><td>摄像头图像模糊</td><td>添加自动清洁功能</td><td>光学设计师</td><td>已实施</td></tr><tr><td>雷达距离误差</td><td>添加温度补偿算法</td><td>软件设计师</td><td>已实施</td></tr><tr><td>雷达距离误差</td><td>优化雷达设计</td><td>射频设计师</td><td>计划中</td></tr></tbody></table><h3 id=第二步fta-分析>第二步：FTA 分析<a hidden class=anchor aria-hidden=true href=#第二步fta-分析>#</a></h3><p><strong>顶层事件</strong>：AEB 失效导致碰撞</p><p><strong>故障树</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>        AEB 失效
</span></span><span class=line><span class=cl>           │
</span></span><span class=line><span class=cl>      ┌────┴────┐
</span></span><span class=line><span class=cl>      │         │
</span></span><span class=line><span class=cl>   传感器失效   控制器失效
</span></span><span class=line><span class=cl>      │         │
</span></span><span class=line><span class=cl>   ┌───┴───┐ ┌─┴────┐
</span></span><span class=line><span class=cl>   │       │ │      │
</span></span><span class=line><span class=cl>摄像头故障 雷达故障 CPU故障 算法错误
</span></span><span class=line><span class=cl>   │       │ │      │
</span></span><span class=line><span class=cl>  ○       ○ ○      ○
</span></span></code></pre></div><p><strong>逻辑表达式</strong>：</p><p>$$ \text{AEB 失效} = \text{摄像头故障} + \text{雷达故障} + \text{CPU 故障} + \text{算法错误} $$</p><p><strong>最小割集</strong>：</p><ol><li>{摄像头故障}</li><li>{雷达故障}</li><li>{CPU 故障}</li><li>{算法错误}</li></ol><p><strong>定量分析</strong>：</p><p>假设：</p><ul><li>摄像头故障概率：$10^{-5}$</li><li>雷达故障概率：$10^{-5}$</li><li>CPU 故障概率：$10^{-6}$</li><li>算法错误概率：$10^{-6}$</li></ul><p>AEB 失效概率（简化模型）：
$$ P(\text{AEB 失效}) = 10^{-5} + 10^{-5} + 10^{-6} + 10^{-6} = 2.2 \times 10^{-5} $$</p><p><strong>改进措施</strong>：</p><table><thead><tr><th>失效模式</th><th>改进措施</th><th>责任人</th><th>状态</th></tr></thead><tbody><tr><td>摄像头故障</td><td>添加冗余摄像头</td><td>硬件设计师</td><td>已实施</td></tr><tr><td>雷达故障</td><td>添加冗余雷达</td><td>硬件设计师</td><td>已实施</td></tr></tbody></table><h3 id=第三步stpa-分析>第三步：STPA 分析<a hidden class=anchor aria-hidden=true href=#第三步stpa-分析>#</a></h3><p><strong>系统危险</strong>：</p><ol><li>未能检测到碰撞风险</li><li>误判碰撞风险</li><li>制动力不足</li><li>制动力过大</li><li>制动时机不当</li></ol><p><strong>控制结构</strong>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>          驾驶员
</span></span><span class=line><span class=cl>             │
</span></span><span class=line><span class=cl>    ┌────────┴────────┐
</span></span><span class=line><span class=cl>    │   AEB 控制器    │
</span></span><span class=line><span class=cl>    │                 │
</span></span><span class=line><span class=cl>  传感器           执行器
</span></span><span class=line><span class=cl>    │                 │
</span></span><span class=line><span class=cl>摄像头/雷达/超声波   制动系统
</span></span><span class=line><span class=cl>    │                 │
</span></span><span class=line><span class=cl>  车辆环境         车辆状态
</span></span></code></pre></div><p><strong>不安全控制行为（UCAs）</strong>：</p><ol><li><p><strong>未能提供制动力</strong></p><ul><li>检测到碰撞风险，但未提供制动力</li></ul></li><li><p><strong>提供错误的制动力</strong></p><ul><li>未检测到碰撞风险，但提供了制动力（误制动）</li><li>检测到碰撞风险，但提供了 insufficient 制动力</li><li>检测到碰撞风险，但提供了 excessive 制动力</li></ul></li><li><p><strong>在错误的时间提供制动力</strong></p><ul><li>制动过晚，导致碰撞</li><li>制动过早，导致误制动</li></ul></li></ol><p><strong>导致 UCAs 的原因</strong>：</p><table><thead><tr><th>UCA</th><th>原因类型</th><th>具体原因</th></tr></thead><tbody><tr><td>未能提供制动力</td><td>传感器故障</td><td>摄像头/雷达/超声波传感器故障</td></tr><tr><td>未能提供制动力</td><td>控制器故障</td><td>CPU 挂死/算法错误</td></tr><tr><td>未能提供制动力</td><td>执行器故障</td><td>制动系统故障</td></tr><tr><td>提供错误的制动力</td><td>传感器误差</td><td>测量误差/漂移</td></tr><tr><td>提供错误的制动力</td><td>算法错误</td><td>碰撞判断错误</td></tr><tr><td>提供错误的制动力</td><td>控制器故障</td><td>CPU 错误</td></tr><tr><td>在错误的时间提供制动力</td><td>软件缺陷</td><td>时序错误</td></tr><tr><td>在错误的时间提供制动力</td><td>通信故障</td><td>延迟/中断</td></tr></tbody></table><p><strong>安全约束和缓解措施</strong>：</p><table><thead><tr><th>UCA</th><th>安全约束</th><th>缓解措施</th></tr></thead><tbody><tr><td>未能提供制动力</td><td>系统应准确检测碰撞风险</td><td>多传感器融合</td></tr><tr><td>未能提供制动力</td><td>系统应可靠控制制动</td><td>冗余控制器</td></tr><tr><td>提供错误的制动力</td><td>系统应准确测量障碍物</td><td>多传感器交叉验证</td></tr><tr><td>提供错误的制动力</td><td>系统应准确判断碰撞</td><td>优化算法</td></tr><tr><td>在错误的时间提供制动力</td><td>系统应实时响应</td><td>优化软件时序</td></tr><tr><td>在错误的时间提供制动力</td><td>系统应可靠通信</td><td>双 CAN 冗余</td></tr></tbody></table><h3 id=第四步定量分析>第四步：定量分析<a hidden class=anchor aria-hidden=true href=#第四步定量分析>#</a></h3><p><strong>系统 FIT 率计算</strong>：</p><table><thead><tr><th>组件</th><th>FIT 率</th><th>冗余度</th><th>有效 FIT 率</th></tr></thead><tbody><tr><td>摄像头</td><td>20</td><td>有</td><td>0.4</td></tr><tr><td>雷达</td><td>20</td><td>有</td><td>0.4</td></tr><tr><td>超声波传感器</td><td>10</td><td>有</td><td>0.2</td></tr><tr><td>MCU1</td><td>50</td><td>无</td><td>50</td></tr><tr><td>MCU2</td><td>50</td><td>有</td><td>0.25</td></tr><tr><td>制动系统</td><td>30</td><td>有</td><td>0.9</td></tr></tbody></table><p><strong>总 FIT 率</strong>：
$$ \text{FIT}_{\text{total}} = 0.4 + 0.4 + 0.2 + 50 + 0.25 + 0.9 = 52.15 \text{ FIT} $$</p><p><strong>转换为每小时失效概率</strong>：
$$ \text{Failure Rate} = \frac{52.15}{10^9} = 5.215 \times 10^{-8} \text{ 每小时} $$</p><p><strong>满足 ASIL D 要求</strong>：</p><ul><li>ASIL D 要求系统 FIT 率 &lt; 10 FIT</li><li>当前系统 FIT 率 52.15 FIT，不满足</li></ul><p><strong>改进措施</strong>：</p><ul><li>添加 MCU 冗余（三模冗余）</li><li>优化 MCU 软件，降低 FIT 率</li></ul><p>改进后：</p><ul><li>MCU 三模冗余，有效 FIT 率：0.005 FIT</li><li>总 FIT 率：2.155 FIT</li><li>满足 ASIL D 要求</li></ul><h2 id=常见错误和最佳实践>常见错误和最佳实践<a hidden class=anchor aria-hidden=true href=#常见错误和最佳实践>#</a></h2><h3 id=常见错误>常见错误<a hidden class=anchor aria-hidden=true href=#常见错误>#</a></h3><ol><li><p><strong>分析深度不足</strong></p><ul><li>ASIL D 系统只做 FMEA</li><li>忽视 FTA 或 STPA</li></ul></li><li><p><strong>分析方法不当</strong></p><ul><li>选择的分析方法不适用于系统</li><li>分析方法应用不当</li></ul></li><li><p><strong>分析不完整</strong></p><ul><li>未识别所有失效模式</li><li>未考虑失效组合</li><li>未考虑极端情况</li></ul></li><li><p><strong>改进措施不落实</strong></p><ul><li>分析后不制定改进措施</li><li>改进措施不落实</li></ul></li></ol><h3 id=最佳实践>最佳实践<a hidden class=anchor aria-hidden=true href=#最佳实践>#</a></h3><ol><li><p><strong>根据 ASIL 等级选择分析方法</strong></p><ul><li>ASIL A：基本的 FMEA</li><li>ASIL B：FMEA + FTA</li><li>ASIL C：FMEA + FTA + STPA</li><li>ASIL D：FMEA + FTA + STPA + 安全分析</li></ul></li><li><p><strong>深入分析，不要停留在表面</strong></p><ul><li>识别所有失效模式</li><li>考虑失效组合</li><li>考虑极端情况</li></ul></li><li><p><strong>使用专业的分析工具</strong></p><ul><li>FMEA 工具（如 Xfmea、APIS IQ-RM）</li><li>FTA 工具（如 Isograph Reliability Workbench）</li><li>STPA 工具（如 STPA Suite）</li></ul></li><li><p><strong>定期回顾和更新分析</strong></p><ul><li>系统变更后重新分析</li><li>运行数据更新分析</li><li>事故调查更新分析</li></ul></li></ol><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>ISO 26262-9 ASIL 导向的分析方法提供了针对不同 ASIL 等级的分析要求。通过本文的深入解读和丰富的案例实践，我们掌握了：</p><ol><li><p><strong>FMEA（失效模式与影响分析）</strong>：</p><ul><li>FMEA 的定义和步骤</li><li>制动系统的 FMEA 实践</li></ul></li><li><p><strong>FTA（故障树分析）</strong>：</p><ul><li>FTA 的定义和步骤</li><li>FTA 的符号</li><li>制动系统的 FTA 实践</li></ul></li><li><p><strong>STPA（系统理论过程分析）</strong>：</p><ul><li>STPA 的定义和步骤</li><li>不安全控制行为（UCAs）</li><li>制动系统的 STPA 实践</li></ul></li><li><p><strong>安全分析</strong>：</p><ul><li>安全分析的分类</li><li>定性分析和定量分析</li><li>ASIL D 系统的安全分析实践</li></ul></li><li><p><strong>ASIL 导向分析的差异</strong>：</p><ul><li>ASIL A/B/C/D 的分析要求</li><li>不同 ASIL 等级的分析深度</li></ul></li><li><p><strong>实战案例</strong>：</p><ul><li>AEB 系统 ASIL D 分析完整实践</li></ul></li></ol><p><strong>核心要点</strong>：</p><ul><li>ASIL 等级越高，要求的分析越深入、越全面</li><li>FMEA 是自底向上的分析，FTA 是自顶向下的分析，STPA 是基于系统理论的分析</li><li>分析必须深入，不能停留在表面</li><li>改进措施必须落实，不能只分析不改进</li><li>定期回顾和更新分析，保持分析的有效性</li></ul><p>在下一篇文章中，我们将深入解读 ISO 26262-10 指南部分，学习如何应用 ISO 26262 标准的具体指南。</p><h2 id=延伸阅读>延伸阅读<a hidden class=anchor aria-hidden=true href=#延伸阅读>#</a></h2><ul><li><a href=../2026-01-16-iso26262-1-vocabulary>ISO 26262-1: 词汇</a></li><li><a href=../2026-01-16-iso26262-2-management>ISO 26262-2: 功能安全管理</a></li><li><a href=../2026-01-16-iso26262-3-concept>ISO 26262-3: 概念阶段</a></li><li><a href=../2026-01-16-iso26262-10-guideline>ISO 26262-10: 指南</a></li><li><a href=../2026-01-16-iso26262-overview>ISO 26262 整体综述</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://s-ai-unix.github.io/tags/iso-26262/>ISO 26262</a></li><li><a href=https://s-ai-unix.github.io/tags/%E5%8A%9F%E8%83%BD%E5%AE%89%E5%85%A8/>功能安全</a></li><li><a href=https://s-ai-unix.github.io/tags/asil/>ASIL</a></li></ul><nav class=paginav><a class=prev href=https://s-ai-unix.github.io/posts/2026-01-06-iso26262-8-support/><span class=title>« Prev</span><br><span>ISO 26262-8 支持过程：功能安全的基石</span>
</a><a class=next href=https://s-ai-unix.github.io/posts/2026-01-04-iso26262-10-guideline/><span class=title>Next »</span><br><span>ISO 26262-10 指南：标准实施的实践指南</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share ISO 26262-9 ASIL导向的分析：深入系统安全 on x" href="https://x.com/intent/tweet/?text=ISO%2026262-9%20ASIL%e5%af%bc%e5%90%91%e7%9a%84%e5%88%86%e6%9e%90%ef%bc%9a%e6%b7%b1%e5%85%a5%e7%b3%bb%e7%bb%9f%e5%ae%89%e5%85%a8&amp;url=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-05-iso26262-9-asil%2f&amp;hashtags=ISO26262%2c%e5%8a%9f%e8%83%bd%e5%ae%89%e5%85%a8%2cASIL"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ISO 26262-9 ASIL导向的分析：深入系统安全 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-05-iso26262-9-asil%2f&amp;title=ISO%2026262-9%20ASIL%e5%af%bc%e5%90%91%e7%9a%84%e5%88%86%e6%9e%90%ef%bc%9a%e6%b7%b1%e5%85%a5%e7%b3%bb%e7%bb%9f%e5%ae%89%e5%85%a8&amp;summary=ISO%2026262-9%20ASIL%e5%af%bc%e5%90%91%e7%9a%84%e5%88%86%e6%9e%90%ef%bc%9a%e6%b7%b1%e5%85%a5%e7%b3%bb%e7%bb%9f%e5%ae%89%e5%85%a8&amp;source=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-05-iso26262-9-asil%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ISO 26262-9 ASIL导向的分析：深入系统安全 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-05-iso26262-9-asil%2f&title=ISO%2026262-9%20ASIL%e5%af%bc%e5%90%91%e7%9a%84%e5%88%86%e6%9e%90%ef%bc%9a%e6%b7%b1%e5%85%a5%e7%b3%bb%e7%bb%9f%e5%ae%89%e5%85%a8"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share ISO 26262-9 ASIL导向的分析：深入系统安全 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fs-ai-unix.github.io%2fposts%2f2026-01-05-iso26262-9-asil%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li></ul></footer><script src=https://giscus.app/client.js data-repo=s-ai-unix/blog data-repo-id=R_kgDOQ3Njaw data-category=General data-category-id=DIC_kwDOQ3Nja84C0yve data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2026 <a href=https://s-ai-unix.github.io/>s-ai-unix's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>(function(){"use strict";function e(){var e=document.querySelectorAll("p, li, td, div, span, h1, h2, h3, h4, h5, h6, ol, ul");e.forEach(function(e){if(e.classList.contains("classical-quote-container")||e.classList.contains("quote-text")||e.closest(".classical-quote-container"))return;var t,n=e.innerHTML,s=!1;for(n.indexOf("<em>")!==-1&&(t=n.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),t=t.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),t!==n&&(n=t,s=!0)),n.indexOf("</em>")!==-1&&(t=n.replace(/\$([^$]*?)<\/em>([^$]*?)\$/g,function(e,t,n){return"$"+t+"_{"+n+"$"}),t=t.replace(/\$\$([^$]*?)<\/em>([^$]*?)\$\$/g,function(e,t,n){return"$$"+t+"_{"+n+"$$"}),t!==n&&(n=t,s=!0)),n.indexOf("<em>$")!==-1&&(t=n.replace(/<em>\$/g,"$"),t!==n&&(n=t,s=!0)),n.indexOf("</em>$")!==-1&&(t=n.replace(/<\/em>\$/g,"$"),t!==n&&(n=t,s=!0));n.indexOf("<em>")!==-1&&n.indexOf("</em>")!==-1;){if(t=n.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),t=t.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),t===n)break;n=t,s=!0}n.indexOf("_{")!==-1&&(t=n.replace(/_{/g,"_{"),t!==n&&(n=t,s=!0)),n.indexOf("}_")!==-1&&(t=n.replace(/}_/g,"}"),t!==n&&(n=t,s=!0)),n.includes("</em>{")&&(t=n.replace(/\\mathbf\{(W|x|y|z)\}<\/em>\{\\mathrm\{([a-z]+)\}\}/g,"\\mathbf{$1}_{\\mathrm{$2}}"),t=t.replace(/([LHf])<\/em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t=t.replace(/\\nabla ([LHf])<\/em>\{\\mathrm\{([a-z]+)\}\}/g,`\\nabla $1_{\\mathrm{$2}}`),t=t.replace(/([A-Z])<\/em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t!==n&&(n=t,s=!0)),n.includes("<em>{\\mathrm{")&&(t=n.replace(/\\mathbf\{(W|x|y|z)\}<em>\{\\mathrm\{([a-z]+)\}\}/g,"\\mathbf{$1}_{\\mathrm{$2}}"),t=t.replace(/([LHf])<em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t=t.replace(/\\nabla ([LHf])<em>\{\\mathrm\{([a-z]+)\}\}/g,`\\nabla $1_{\\mathrm{$2}}`),t=t.replace(/([A-Z])<em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t!==n&&(n=t,s=!0)),(n.includes("</em>")||n.includes("<em>"))&&(t=n.replace(/(\$[^$]*?)<em>([^$]*?)<\/em>/g,"$1_{$2}"),t=t.replace(/(\$\$[^$]*?)<em>([^$]*?)<\/em>/g,"$1_{$2}"),t=t.replace(/(\$[^$]*?)<em>/g,"$1"),t=t.replace(/<em>([^$]*?\$)/g,"$1"),t=t.replace(/(\$[^$]*?)<\/em>/g,"$1"),t=t.replace(/<\/em>([^$]*?\$)/g,"$1"),t!==n&&(n=t,s=!0)),n.indexOf("\\\\")!==-1&&(t=n.replace(/(\$\{1,2\})([^$]*?)(\$\{1,2\})/g,function(e,t,n,s){for(;n.indexOf("\\\\")!==-1;)n=n.replace(/\\\\/g,"\\");return t+n+s}),t!==n&&(n=t,s=!0)),s&&(e.innerHTML=n)})}window.MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0,tags:"ams",packages:{"[+]":["noerrors","noundefined","boldsymbol"]},macros:{oiint:"\\mathop{∯}",oiiint:"\\mathop{∰}"}},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code"]},startup:{pageReady:function(){return e(),MathJax.startup.defaultPageReady().then(function(){console.log("MathJax formulas rendered successfully")})}}}})()</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=stylesheet href=/css/mermaid-custom.css><script src=/js/mermaid-converter.js></script><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

  
  setTimeout(() => {
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#e3f2fd',
        primaryTextColor: '#1565c0',
        primaryBorderColor: '#2196f3',
        lineColor: '#42a5f5',
        secondaryColor: '#f3e5f5',
        tertiaryColor: '#fff9c4',
        background: '#ffffff',
        mainBkg: '#ffffff',
        nodeBorder: '#2196f3',
        clusterBkg: '#ffffff',
        clusterBorder: '#e0e0e0',
        titleColor: '#1565c0',
        edgeLabelBackground: '#fafafa',
      },
      securityLevel: 'loose',
    });
  }, 100);
</script><script src=/js/toc.js></script><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){"use strict";function e(){var e=document.querySelectorAll("p, li, td, div, span, h1, h2, h3, h4, h5, h6, ol, ul");e.forEach(function(e){if(e.classList.contains("classical-quote-container")||e.classList.contains("quote-text")||e.closest(".classical-quote-container"))return;var t,n=e.innerHTML,s=!1;for(n.indexOf("<em>")!==-1&&(t=n.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),t=t.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),t!==n&&(n=t,s=!0)),n.indexOf("</em>")!==-1&&(t=n.replace(/\$([^$]*?)<\/em>([^$]*?)\$/g,function(e,t,n){return"$"+t+"_{"+n+"$"}),t=t.replace(/\$\$([^$]*?)<\/em>([^$]*?)\$\$/g,function(e,t,n){return"$$"+t+"_{"+n+"$$"}),t!==n&&(n=t,s=!0)),n.indexOf("<em>$")!==-1&&(t=n.replace(/<em>\$/g,"$"),t!==n&&(n=t,s=!0)),n.indexOf("</em>$")!==-1&&(t=n.replace(/<\/em>\$/g,"$"),t!==n&&(n=t,s=!0));n.indexOf("<em>")!==-1&&n.indexOf("</em>")!==-1;){if(t=n.replace(/\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$/g,function(e,t,n,s){return/^[\d.,]+$/.test((t+n+s).replace(/[.,]/g,""))?e:"$"+t+"_"+n+s+"$"}),t=t.replace(/\$\$([^$]*?)<em>([^<]+?)<\/em>([^$]*?)\$\$/g,function(e,t,n,s){return"$$"+t+"_"+n+s+"$$"}),t===n)break;n=t,s=!0}n.indexOf("_{")!==-1&&(t=n.replace(/_{/g,"_{"),t!==n&&(n=t,s=!0)),n.indexOf("}_")!==-1&&(t=n.replace(/}_/g,"}"),t!==n&&(n=t,s=!0)),n.includes("</em>{")&&(t=n.replace(/\\mathbf\{(W|x|y|z)\}<\/em>\{\\mathrm\{([a-z]+)\}\}/g,"\\mathbf{$1}_{\\mathrm{$2}}"),t=t.replace(/([LHf])<\/em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t=t.replace(/\\nabla ([LHf])<\/em>\{\\mathrm\{([a-z]+)\}\}/g,`\\nabla $1_{\\mathrm{$2}}`),t=t.replace(/([A-Z])<\/em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t!==n&&(n=t,s=!0)),n.includes("<em>{\\mathrm{")&&(t=n.replace(/\\mathbf\{(W|x|y|z)\}<em>\{\\mathrm\{([a-z]+)\}\}/g,"\\mathbf{$1}_{\\mathrm{$2}}"),t=t.replace(/([LHf])<em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t=t.replace(/\\nabla ([LHf])<em>\{\\mathrm\{([a-z]+)\}\}/g,`\\nabla $1_{\\mathrm{$2}}`),t=t.replace(/([A-Z])<em>\{\\mathrm\{([a-z]+)\}\}/g,"$1_{\\mathrm{$2}}"),t!==n&&(n=t,s=!0)),(n.includes("</em>")||n.includes("<em>"))&&(t=n.replace(/(\$[^$]*?)<em>([^$]*?)<\/em>/g,"$1_{$2}"),t=t.replace(/(\$\$[^$]*?)<em>([^$]*?)<\/em>/g,"$1_{$2}"),t=t.replace(/(\$[^$]*?)<em>/g,"$1"),t=t.replace(/<em>([^$]*?\$)/g,"$1"),t=t.replace(/(\$[^$]*?)<\/em>/g,"$1"),t=t.replace(/<\/em>([^$]*?\$)/g,"$1"),t!==n&&(n=t,s=!0)),n.indexOf("\\\\")!==-1&&(t=n.replace(/(\$\{1,2\})([^$]*?)(\$\{1,2\})/g,function(e,t,n,s){for(;n.indexOf("\\\\")!==-1;)n=n.replace(/\\\\/g,"\\");return t+n+s}),t!==n&&(n=t,s=!0)),s&&(e.innerHTML=n)})}window.MathJax={tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],processEscapes:!0,processEnvironments:!0,tags:"ams",packages:{"[+]":["noerrors","noundefined","boldsymbol"]},macros:{oiint:"\\mathop{∯}",oiiint:"\\mathop{∰}"}},options:{skipHtmlTags:["script","noscript","style","textarea","pre","code"]},startup:{pageReady:function(){return e(),MathJax.startup.defaultPageReady().then(function(){console.log("MathJax formulas rendered successfully")})}}}})()</script><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=stylesheet href=/css/mermaid-custom.css><script src=/js/mermaid-converter.js></script><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';

  
  setTimeout(() => {
    mermaid.initialize({
      startOnLoad: true,
      theme: 'base',
      themeVariables: {
        primaryColor: '#e3f2fd',
        primaryTextColor: '#1565c0',
        primaryBorderColor: '#2196f3',
        lineColor: '#42a5f5',
        secondaryColor: '#f3e5f5',
        tertiaryColor: '#fff9c4',
        background: '#ffffff',
        mainBkg: '#ffffff',
        nodeBorder: '#2196f3',
        clusterBkg: '#ffffff',
        clusterBorder: '#e0e0e0',
        titleColor: '#1565c0',
        edgeLabelBackground: '#fafafa',
      },
      securityLevel: 'loose',
    });
  }, 100);
</script><script src=/js/toc.js></script></body></html>